<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head>  <title>Sedna Administration Guide</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 1,html --> 
<meta name="src" content="AdminGuide.tex"> 
<meta name="date" content="2011-11-26 03:09:00"> 
<link rel="stylesheet" type="text/css" href="AdminGuide.css"> 
</head><body 
>
   <style type="text/css"><!-- @import url("../styles/main.css"); --></style><style type="text/css"><!-- @import url("../styles/doc.css"); --></style><p style="margin-bottom:15px;"/><table width="843" align="center" cellpadding="0" cellspacing="0"><tr><td><table cellpadding="0" cellspacing="0"><tr><td><a href="../index.html"><img src="../images/3.gif" width="341" height="125" alt="Sedna Logo"/></a></td><td><img src="../images/4.jpg" width="502" height="125" alt="Background Top"/></td></tr></table></td></tr></table> <table align="center" width="843" border="0" cellpadding="0" cellspacing="0" class="ver8"><tr><td height="15">&nbsp;</td></tr><tr><td><span class="style3"><a href="/" class="style3">Home</a> &nbsp;|&nbsp; <a href="/quick-start.html" class="style3">Getting Started</a> &nbsp;|&nbsp; <a href="/documentation.html" class="style3">Documentation</a> &nbsp;|&nbsp; <a href="http://wikixmldb.org" class="style3">Demo</a> &nbsp;|&nbsp; <a href="/download.html" class="style3">Download</a> &nbsp;|&nbsp; <a href="/index.html#support" class="style3">Support</a>&nbsp;</span></td></tr></table><p style="margin-bottom:20px;"/><table width="843" border="0" align="center" cellpadding="0" cellspacing="0" class="ver9"><tr><td align="justify">     <div class="maketitle">
                                                                          

                                                                          
                                                                          

                                                                          

<h2 class="titleHead">Sedna Administration Guide</h2>
<div class="author" ></div><br />
<div class="date" ></div>
   </div>
   <div class="tableofcontents">
   <span class="likesectionToc" ><a 
href="#x1-1000" id="QQ2-1-1">Contents</a></span>
<br />   <span class="sectionToc" >1 <a 
href="#x1-20001" id="QQ2-1-2">Introduction</a></span>
<br />   <span class="sectionToc" >2 <a 
href="#x1-30002" id="QQ2-1-3">Administration via Command Line</a></span>
<br />   <span class="sectionToc" >3 <a 
href="#x1-300003" id="QQ2-1-30">User-Based Authorization System</a></span>
<br />   <span class="sectionToc" >4 <a 
href="#x1-360004" id="QQ2-1-36">Localization</a></span>
   </div>
   <h3 class="likesectionHead"><a 
 id="x1-1000"></a>Contents</h3>
   <div class="tableofcontents">
   <span class="sectionToc" >1 <a 
href="#x1-20001">Introduction</a></span>
<br />   <span class="sectionToc" >2 <a 
href="#x1-30002">Administration via Command Line</a></span>
<br />   &#x00A0;<span class="subsectionToc" >2.1 <a 
href="#x1-40002.1" id="QQ2-1-4">Sedna Directory Structure</a></span>
<br />   &#x00A0;<span class="subsectionToc" >2.2 <a 
href="#x1-50002.2" id="QQ2-1-5">Managing Sedna</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.2.1 <a 
href="#x1-60002.2.1" id="QQ2-1-6">Running Sedna</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.2.2 <a 
href="#x1-70002.2.2" id="QQ2-1-7">Stopping Sedna</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.2.3 <a 
href="#x1-80002.2.3" id="QQ2-1-8">Configuring Sedna</a></span>
<br />   &#x00A0;<span class="subsectionToc" >2.3 <a 
href="#x1-90002.3" id="QQ2-1-9">Managing Databases</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.3.1 <a 
href="#x1-100002.3.1" id="QQ2-1-10">Creating a Database</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.3.2 <a 
href="#x1-110002.3.2" id="QQ2-1-11">Configuring a Database</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.3.3 <a 
href="#x1-120002.3.3" id="QQ2-1-12">Deleting a Database</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.3.4 <a 
href="#x1-130002.3.4" id="QQ2-1-13">Running a Database</a></span>
                                                                          

                                                                          
<br />   &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.3.5 <a 
href="#x1-140002.3.5" id="QQ2-1-14">Stopping a Database</a></span>
<br />   &#x00A0;<span class="subsectionToc" >2.4 <a 
href="#x1-150002.4" id="QQ2-1-15">Sedna Terminal</a></span>
<br />   &#x00A0;<span class="subsectionToc" >2.5 <a 
href="#x1-160002.5" id="QQ2-1-16">Backup and Restore</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.5.1 <a 
href="#x1-170002.5.1" id="QQ2-1-17">Export/Import Utility</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.5.2 <a 
href="#x1-210002.5.2" id="QQ2-1-21">File system level backup</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.5.3 <a 
href="#x1-220002.5.3" id="QQ2-1-22">Hot Backup</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.5.4 <a 
href="#x1-250002.5.4" id="QQ2-1-25">Migration Between Releases</a></span>
<br />   &#x00A0;<span class="subsectionToc" >2.6 <a 
href="#x1-260002.6" id="QQ2-1-26">Event Log</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.6.1 <a 
href="#x1-270002.6.1" id="QQ2-1-27">Files</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.6.2 <a 
href="#x1-280002.6.2" id="QQ2-1-28">Severity Level Configuration</a></span>
<br />   &#x00A0;<span class="subsectionToc" >2.7 <a 
href="#x1-290002.7" id="QQ2-1-29">The Examples of Using Command Line Utilities</a></span>
<br />   <span class="sectionToc" >3 <a 
href="#x1-300003">User-Based Authorization System</a></span>
<br />   &#x00A0;<span class="subsectionToc" >3.1 <a 
href="#x1-310003.1" id="QQ2-1-31">Database Users</a></span>
<br />   &#x00A0;<span class="subsectionToc" >3.2 <a 
href="#x1-320003.2" id="QQ2-1-32">Privileges and Roles</a></span>
<br />   &#x00A0;<span class="subsectionToc" >3.3 <a 
href="#x1-330003.3" id="QQ2-1-33">Granting privileges</a></span>
<br />   &#x00A0;<span class="subsectionToc" >3.4 <a 
href="#x1-340003.4" id="QQ2-1-34">Revoking privileges</a></span>
<br />   &#x00A0;<span class="subsectionToc" >3.5 <a 
href="#x1-350003.5" id="QQ2-1-35">Client Authentication</a></span>
<br />   <span class="sectionToc" >4 <a 
href="#x1-360004">Localization</a></span>
   </div>
                                                                          

                                                                          
   <h3 class="sectionHead"><span class="titlemark">1   </span> <a 
 id="x1-20001"></a>Introduction</h3>
<!--l. 58--><p class="noindent" >This guide describes administration of the Sedna XML Database Management
System (Sedna for short). Sedna has the following components.
<!--l. 62--><p class="indent" >   <span 
class="cmti-12">Governor </span>serves as a &#8220;control center&#8221; of the system. All other components
register at the Governor. The Governor knows which other components
(e.g.&#x00A0;databases and sessions) are running in the system and controls them. Other
components cannot function properly if the Governor is not running so you must
start it to use Sedna. Besides, Governor is responsible for handling remote
client&#8217;s requests. For each request it creates a session which keeps the
direct connection with client. Then the client interacts with the system via
session.
<!--l. 70--><p class="indent" >   <span 
class="cmti-12">Session </span>keeps the client&#8217;s settings and allows client to run a sequence of
transactions. The transactions within a session are strictly serial, that is one
transaction ends before next one starts, there is only one active transaction per
session. Transaction provides functionality required for execution of the client&#8217;s
queries. The query execution consists of several steps: (1) parsing of the query and
translation of the query into its logical representation, (2) processing of
the logical representation by optimizer that produces the optimal query
execution plan, (3) execution of the optimal query plan and passing results
to the client. Transaction is rolled back if error is occurred during its
execution.
<!--l. 81--><p class="indent" >   <span 
class="cmti-12">Storage manager </span>manages a database and provides memory management
functionality to the executor. There is an instance of storage manager for each
database run.
<!--l. 85--><p class="indent" >   All the components described above are implemented as operating system
processes.
<!--l. 88--><p class="indent" >   One can run sessions via Sedna client applications (See Sedna Programmer&#8217;s
Guide how to use Sedna APIs) or via Sedna interactive terminal (see <a 
href="#x1-150002.4">2.4<!--tex4ht:ref: terminal --></a>). In both
cases, first of all the Governor and storage managers (one for each databases
required) components should be run.
<!--l. 93--><p class="indent" >   There are a set of command line utilities that allow you to administrate all
aspects of Sedna. These utilities are described in detail in the following
section.
<!--l. 102--><p class="noindent" >
   <div class="sectionTOCS">
   </div>
   <h3 class="sectionHead"><span class="titlemark">2   </span> <a 
 id="x1-30002"></a>Administration via Command Line</h3>
                                                                          

                                                                          
<!--l. 103--><p class="noindent" >
   <div class="subsectionTOCS">
   &#x00A0;<span class="subsectionToc" >2.1 <a 
href="#x1-40002.1">Sedna Directory Structure</a></span>
<br />   &#x00A0;<span class="subsectionToc" >2.2 <a 
href="#x1-50002.2">Managing Sedna</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.2.1 <a 
href="#x1-60002.2.1">Running Sedna</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.2.2 <a 
href="#x1-70002.2.2">Stopping Sedna</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.2.3 <a 
href="#x1-80002.2.3">Configuring Sedna</a></span>
<br />   &#x00A0;<span class="subsectionToc" >2.3 <a 
href="#x1-90002.3">Managing Databases</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.3.1 <a 
href="#x1-100002.3.1">Creating a Database</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.3.2 <a 
href="#x1-110002.3.2">Configuring a Database</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.3.3 <a 
href="#x1-120002.3.3">Deleting a Database</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.3.4 <a 
href="#x1-130002.3.4">Running a Database</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.3.5 <a 
href="#x1-140002.3.5">Stopping a Database</a></span>
<br />   &#x00A0;<span class="subsectionToc" >2.4 <a 
href="#x1-150002.4">Sedna Terminal</a></span>
<br />   &#x00A0;<span class="subsectionToc" >2.5 <a 
href="#x1-160002.5">Backup and Restore</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.5.1 <a 
href="#x1-170002.5.1">Export/Import Utility</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.5.2 <a 
href="#x1-210002.5.2">File system level backup</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.5.3 <a 
href="#x1-220002.5.3">Hot Backup</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.5.4 <a 
href="#x1-250002.5.4">Migration Between Releases</a></span>
<br />   &#x00A0;<span class="subsectionToc" >2.6 <a 
href="#x1-260002.6">Event Log</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.6.1 <a 
href="#x1-270002.6.1">Files</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsubsectionToc" >2.6.2 <a 
href="#x1-280002.6.2">Severity Level Configuration</a></span>
<br />   &#x00A0;<span class="subsectionToc" >2.7 <a 
href="#x1-290002.7">The Examples of Using Command Line Utilities</a></span>
   </div>
   <h4 class="subsectionHead"><span class="titlemark">2.1   </span> <a 
 id="x1-40002.1"></a>Sedna Directory Structure</h4>
<!--l. 106--><p class="noindent" >The Sedna directory hierarchy is fundamental to obtaining an overall
understanding of the system. Below <span class="obeylines-h"><span class="verb"><span 
class="cmtt-12">SEDNA_INSTALL</span></span></span> refers to the directory where
Sedna is installed. The directory structures are identical on all supported
platforms.
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-1">
SEDNA_INSTALL/bin&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;command&#x00A0;line&#x00A0;utilities&#x00A0;for&#x00A0;managing
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Sedna&#x00A0;and&#x00A0;databases,&#x00A0;running&#x00A0;queries,&#x00A0;etc.
&#x00A0;<br />SEDNA_INSTALL/cfg&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;database&#x00A0;configuration&#x00A0;files&#x00A0;named
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x003C;db_name&#x003E;_cfg.xml,&#x00A0;where&#x00A0;&#x003C;db_name&#x003E;&#x00A0;is
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;the&#x00A0;name&#x00A0;of&#x00A0;the&#x00A0;corresponding&#x00A0;database
&#x00A0;<br />SEDNA_INSTALL/data&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;database&#x00A0;data&#x00A0;stored&#x00A0;in&#x00A0;subdirectories
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;named&#x00A0;&#x003C;db_name&#x003E;_files,&#x00A0;where&#x00A0;&#x003C;db_name&#x003E;
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;is&#x00A0;the&#x00A0;name&#x00A0;of&#x00A0;the&#x00A0;corresponding&#x00A0;database
&#x00A0;<br />SEDNA_INSTALL/lib&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;database-independent&#x00A0;libraries&#x00A0;of&#x00A0;external
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;functions
&#x00A0;<br />SEDNA_INSTALL/data/&#x003C;db_name&#x003E;_files/lib
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;database-specific&#x00A0;libraries&#x00A0;of&#x00A0;external
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;functions
&#x00A0;<br />SEDNA_INSTALL/doc&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Sedna&#x00A0;documentation
&#x00A0;<br />SEDNA_INSTALL/driver&#x00A0;&#x00A0;&#x00A0;&#x00A0;API&#x00A0;drivers&#x00A0;for&#x00A0;various&#x00A0;programming
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;languages
&#x00A0;<br />SEDNA_INSTALL/include&#x00A0;&#x00A0;&#x00A0;include&#x00A0;files
&#x00A0;<br />SEDNA_INSTALL/etc&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Sedna&#x00A0;configure&#x00A0;sample&#x00A0;file
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;sednaconf.xml.sample
&#x00A0;<br />SEDNA_INSTALL/examples&#x00A0;&#x00A0;example&#x00A0;databases&#x00A0;and&#x00A0;applications&#x00A0;for
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;the&#x00A0;Sedna&#x00A0;APIs
&#x00A0;<br />SEDNA_INSTALL/share&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Sedna&#x00A0;database&#x00A0;metadata&#x00A0;files&#x00A0;(currently
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;only&#x00A0;database&#x00A0;users&#x00A0;and&#x00A0;privileges
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;metadata)
</div>
<!--l. 137--><p class="nopar" >
<!--l. 139--><p class="indent" >   <span 
class="cmr-10x-x-109">For the installation instructions see the INSTALL file shipped with the Sedna</span>
<span 
class="cmr-10x-x-109">distribution.</span>
<!--l. 146--><p class="noindent" >
   <div class="subsectionTOCS">
   </div>
   <h4 class="subsectionHead"><span class="titlemark"><span 
class="cmr-10x-x-109">2.2   </span></span> <a 
 id="x1-50002.2"></a><span 
class="cmr-10x-x-109">Managing Sedna</span></h4>
<!--l. 147--><p class="noindent" >
   <div class="subsubsectionTOCS">
   <span 
class="cmr-10x-x-109">&#x00A0;</span><span 
class="cmr-10x-x-109">&#x00A0;</span><span class="subsubsectionToc" ><span 
class="cmr-10x-x-109">2.2.1 </span><a 
href="#x1-60002.2.1"><span 
class="cmr-10x-x-109">Running Sedna</span></a></span>
                                                                          

                                                                          
<br />   <span 
class="cmr-10x-x-109">&#x00A0;</span><span 
class="cmr-10x-x-109">&#x00A0;</span><span class="subsubsectionToc" ><span 
class="cmr-10x-x-109">2.2.2 </span><a 
href="#x1-70002.2.2"><span 
class="cmr-10x-x-109">Stopping Sedna</span></a></span>
<br />   <span 
class="cmr-10x-x-109">&#x00A0;</span><span 
class="cmr-10x-x-109">&#x00A0;</span><span class="subsubsectionToc" ><span 
class="cmr-10x-x-109">2.2.3 </span><a 
href="#x1-80002.2.3"><span 
class="cmr-10x-x-109">Configuring Sedna</span></a></span>
   </div>
   <h5 class="subsubsectionHead"><span class="titlemark"><span 
class="cmr-10x-x-109">2.2.1   </span></span> <a 
 id="x1-60002.2.1"></a><span 
class="cmr-10x-x-109">Running Sedna</span></h5>
<!--l. 150--><p class="noindent" ><span 
class="cmr-10x-x-109">To start the Sedna server one should start </span><span 
class="cmti-10x-x-109">Governor </span><span 
class="cmr-10x-x-109">by executing the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_gov</span></span></span>
<span 
class="cmr-10x-x-109">command. This starts the main server component. After that Administrator can run</span>
<span 
class="cmr-10x-x-109">databases (as discussed in Section </span><a 
href="#x1-130002.3.4"><span 
class="cmr-10x-x-109">2.3.4</span><!--tex4ht:ref: RunDB --></a><span 
class="cmr-10x-x-109">).</span>
<!--l. 154--><p class="indent" >   <span 
class="cmbx-10x-x-109">Important note: </span><span 
class="cmr-10x-x-109">since version 3.5 Sedna server by default listens on &#8217;localhost&#8217; and</span>
<span 
class="cmr-10x-x-109">allows only local clients. If you want to work with Sedna remotely make sure that</span>
<span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-listen-address</span></span></span> <span 
class="cmr-10x-x-109">parameter value is adjusted properly.</span>
<!--l. 159--><p class="indent" >   <span 
class="cmr-10x-x-109">The usage of the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_gov</span></span></span> <span 
class="cmr-10x-x-109">command is as follows:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-2">
Usage:&#x00A0;se_gov&#x00A0;[options]
&#x00A0;<br />
&#x00A0;<br />options:
&#x00A0;<br />&#x00A0;&#x00A0;--help&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;this&#x00A0;help&#x00A0;and&#x00A0;exit
&#x00A0;<br />&#x00A0;&#x00A0;-help&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;this&#x00A0;help&#x00A0;and&#x00A0;exit
&#x00A0;<br />&#x00A0;&#x00A0;-version&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;product&#x00A0;version&#x00A0;and&#x00A0;exit
&#x00A0;<br />&#x00A0;&#x00A0;-background-mode&#x00A0;on/off&#x00A0;&#x00A0;&#x00A0;&#x00A0;start&#x00A0;the&#x00A0;server&#x00A0;in&#x00A0;the&#x00A0;background&#x00A0;mode
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(default&#x00A0;on)
&#x00A0;<br />&#x00A0;&#x00A0;-listen-address&#x00A0;address&#x00A0;&#x00A0;&#x00A0;&#x00A0;local&#x00A0;address&#x00A0;Sedna&#x00A0;listens&#x00A0;for&#x00A0;client
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;connections&#x00A0;(default&#x00A0;localhost)
&#x00A0;<br />&#x00A0;&#x00A0;-port-number&#x00A0;&#x003C;int&#x003E;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;socket&#x00A0;listening&#x00A0;port
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(default&#x00A0;5050)
&#x00A0;<br />&#x00A0;&#x00A0;-el-level&#x00A0;level&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;event&#x00A0;logging&#x00A0;level&#x00A0;(default&#x00A0;3):
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;0&#x00A0;-&#x00A0;event&#x00A0;logging&#x00A0;is&#x00A0;off
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;1&#x00A0;-&#x00A0;log&#x00A0;only&#x00A0;fatal&#x00A0;errors
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;2&#x00A0;-&#x00A0;log&#x00A0;all&#x00A0;errors/warnings
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;3&#x00A0;-&#x00A0;system&#x00A0;operational&#x00A0;messages
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;4&#x00A0;-&#x00A0;log&#x00A0;everything&#x00A0;(+debug&#x00A0;messages)
&#x00A0;<br />&#x00A0;&#x00A0;-alive-timeout&#x00A0;timeout&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;session&#x00A0;keep&#x00A0;alive&#x00A0;timeout
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(default&#x00A0;0&#x00A0;-&#x00A0;infinite&#x00A0;timeout)
&#x00A0;<br />&#x00A0;&#x00A0;-stack-depth&#x00A0;depth&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;maximum&#x00A0;executor&#x00A0;stack&#x00A0;depth
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(default&#x00A0;4000)
</div>
<!--l. 185--><p class="nopar" >
<!--l. 187--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">--help</span></span></span> <span 
class="cmr-10x-x-109">and </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-help</span></span></span> <span 
class="cmr-10x-x-109">options provide the exhaustive information about the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_gov</span></span></span>
<span 
class="cmr-10x-x-109">command.</span>
<!--l. 190--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-version</span></span></span> <span 
class="cmr-10x-x-109">option allows getting the version of the </span><span 
class="cmti-10x-x-109">Governor</span><span 
class="cmr-10x-x-109">.</span>
<!--l. 192--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-background-mode</span></span></span> <span 
class="cmr-10x-x-109">option allows Administrator to start </span><span 
class="cmti-10x-x-109">Governor </span><span 
class="cmr-10x-x-109">in the</span>
<span 
class="cmr-10x-x-109">background mode.</span>
<!--l. 195--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-listen-address</span></span></span> <span 
class="cmr-10x-x-109">specifies the address on which the server is to listen for</span>
<span 
class="cmr-10x-x-109">connections from client applications. The value takes the form of a numeric IP address</span>
<span 
class="cmr-10x-x-109">or host name (it must be resolvable by your system, check your host file). The value</span>
<span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">0.0.0.0</span></span></span> <span 
class="cmr-10x-x-109">corresponds to all available IP interfaces. The default value is </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">localhost</span></span></span><span 
class="cmr-10x-x-109">,</span>
<span 
class="cmr-10x-x-109">which allows only local &#8221;loopback&#8221; connections to be made. If value is not specified</span>
<span 
class="cmr-10x-x-109">Sedna server tries to find the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">sednaconf.xml</span></span></span> <span 
class="cmr-10x-x-109">configuration file file and uses the address</span>
<span 
class="cmr-10x-x-109">specified as </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">listen_address</span></span></span> <span 
class="cmr-10x-x-109">parameter (see section </span><a 
href="#x1-80002.2.3"><span 
class="cmr-10x-x-109">2.2.3</span><!--tex4ht:ref: sec:ConfigSedna --></a><span 
class="cmr-10x-x-109">, Configuring Sedna). If there</span>
<span 
class="cmr-10x-x-109">is no configuration file or </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">listen_address</span></span></span> <span 
class="cmr-10x-x-109">parameter is not specified Sedna would listen</span>
<span 
class="cmr-10x-x-109">on </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">localhost</span></span></span><span 
class="cmr-10x-x-109">.</span>
<!--l. 206--><p class="indent" >   <span 
class="cmr-10x-x-109">Note, if you want to make Sedna work in the old-fashioned (prior version</span>
<span 
class="cmr-10x-x-109">3.5) way you should set </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-listen-address</span></span></span> <span 
class="cmr-10x-x-109">option to </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">0.0.0.0</span></span></span> <span 
class="cmr-10x-x-109">&#8212; that would</span>
                                                                          

                                                                          
<span 
class="cmr-10x-x-109">force Sedna to listen on every interface in your system as it worked in older</span>
<span 
class="cmr-10x-x-109">versions.</span>
<!--l. 211--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-port-number</span></span></span> <span 
class="cmr-10x-x-109">option specifies the port number on which Sedna listens for</span>
<span 
class="cmr-10x-x-109">connections from clients. If port number is not specified Governor tries to find the</span>
<span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">sednaconf.xml</span></span></span> <span 
class="cmr-10x-x-109">file and use port number specified as </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">listener_port</span></span></span> <span 
class="cmr-10x-x-109">parameter (see</span>
<span 
class="cmr-10x-x-109">section </span><a 
href="#x1-80002.2.3"><span 
class="cmr-10x-x-109">2.2.3</span><!--tex4ht:ref: sec:ConfigSedna --></a><span 
class="cmr-10x-x-109">, Configuring Sedna). If it still cannot find port number it will use default</span>
<span 
class="cmr-10x-x-109">5050 value.</span>
<!--l. 217--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-el-level</span></span></span> <span 
class="cmr-10x-x-109">option specifies the event log severity level. For details refer to the</span>
<span 
class="cmr-10x-x-109">section </span><a 
href="#x1-260002.6"><span 
class="cmr-10x-x-109">2.6</span><!--tex4ht:ref: sec:event-log --></a><span 
class="cmr-10x-x-109">, Event Log.</span>
<!--l. 220--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-alive-timeout</span></span></span> <span 
class="cmr-10x-x-109">option specifies number of seconds to wait for the next request</span>
<span 
class="cmr-10x-x-109">from the some client on the same connection. Session keep alive timeout can be defined</span>
<span 
class="cmr-10x-x-109">also in the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">sednaconf.xml</span></span></span> <span 
class="cmr-10x-x-109">file. Value provided via command ine overrides value (if any)</span>
<span 
class="cmr-10x-x-109">defined in the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">sednaconf.xml</span></span></span> <span 
class="cmr-10x-x-109">file.</span>
<!--l. 225--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-stack-depth</span></span></span> <span 
class="cmr-10x-x-109">option specifies the maximum safe depth of the session&#8217;s physical</span>
<span 
class="cmr-10x-x-109">operations stack. Setting the parameter higher than the actual process stack may fit will</span>
<span 
class="cmr-10x-x-109">mean that a runaway recursive function can crash an individual session (and server in</span>
<span 
class="cmr-10x-x-109">the current architecture). The default setting is 4000, which is unlikely to risk crashes.</span>
<span 
class="cmr-10x-x-109">However, it may be too small to allow execution of complex functions. Value</span>
<span 
class="cmr-10x-x-109">provided via command line overrides value (if any) defined in the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">sednaconf.xml</span></span></span>
<span 
class="cmr-10x-x-109">file.</span>
<!--l. 233--><p class="indent" >   <span 
class="cmr-10x-x-109">To get the information about which Sedna components are run use </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_rc</span></span></span>
<span 
class="cmr-10x-x-109">command.</span>
<!--l. 236--><p class="indent" >   <span 
class="cmr-10x-x-109">The usage of the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_rc</span></span></span> <span 
class="cmr-10x-x-109">command is as follows:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-3">
Usage:&#x00A0;se_rc&#x00A0;[options]
&#x00A0;<br />
&#x00A0;<br />options:
&#x00A0;<br />&#x00A0;&#x00A0;--help&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;this&#x00A0;help&#x00A0;and&#x00A0;exit
&#x00A0;<br />&#x00A0;&#x00A0;-help&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;this&#x00A0;help&#x00A0;and&#x00A0;exit
&#x00A0;<br />&#x00A0;&#x00A0;-version&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;product&#x00A0;version&#x00A0;and&#x00A0;exit
&#x00A0;<br />&#x00A0;&#x00A0;-sm-list&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;running&#x00A0;databases&#x00A0;list
</div>
<!--l. 247--><p class="nopar" >
<!--l. 253--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark"><span 
class="cmr-10x-x-109">2.2.2   </span></span> <a 
 id="x1-70002.2.2"></a><span 
class="cmr-10x-x-109">Stopping Sedna</span></h5>
<!--l. 255--><p class="noindent" ><span 
class="cmr-10x-x-109">To stop Sedna, Administrator should use the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_stop</span></span></span> <span 
class="cmr-10x-x-109">command. This command stops</span>
<span 
class="cmr-10x-x-109">all Sedna components including all databases, which are run. Command has several</span>
<span 
class="cmr-10x-x-109">optional parameters.</span>
<!--l. 259--><p class="indent" >   <span 
class="cmr-10x-x-109">The usage of the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_stop</span></span></span> <span 
class="cmr-10x-x-109">command is as follows:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-4">
Usage:&#x00A0;se_stop&#x00A0;[options]
&#x00A0;<br />
&#x00A0;<br />options:
&#x00A0;<br />&#x00A0;&#x00A0;--help&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;this&#x00A0;help&#x00A0;and&#x00A0;exit
&#x00A0;<br />&#x00A0;&#x00A0;-help&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;this&#x00A0;help&#x00A0;and&#x00A0;exit
&#x00A0;<br />&#x00A0;&#x00A0;-version&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;product&#x00A0;version&#x00A0;and&#x00A0;exit
&#x00A0;<br />&#x00A0;&#x00A0;-hard&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;attempt&#x00A0;to&#x00A0;roll&#x00A0;back&#x00A0;transactions&#x00A0;immediately
</div>
<!--l. 270--><p class="nopar" >
<!--l. 272--><p class="indent" >   <span 
class="cmr-10x-x-109">The first and second options are straightforward, typing these options Administrator</span>
<span 
class="cmr-10x-x-109">can get the exhaustive information about the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_stop</span></span></span> <span 
class="cmr-10x-x-109">command. Option </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-version</span></span></span>
<span 
class="cmr-10x-x-109">allows getting the version of the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_stop</span></span></span><span 
class="cmr-10x-x-109">.</span>
<!--l. 277--><p class="indent" >   <span 
class="cmr-10x-x-109">Note, </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_stop</span></span></span> <span 
class="cmr-10x-x-109">may cause a rollback of some active transactions in the system.</span>
<span 
class="cmr-10x-x-109">However, Sedna waits for the last statement in each transaction is completed. Option</span>
<span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-hard</span></span></span> <span 
class="cmr-10x-x-109">causes Sedna to attempt to roll back transactions as soon as possible (except</span>
<span 
class="cmr-10x-x-109">bulk load and update transactions).</span>
<!--l. 286--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark"><span 
class="cmr-10x-x-109">2.2.3   </span></span> <a 
 id="x1-80002.2.3"></a><span 
class="cmr-10x-x-109">Configuring Sedna</span></h5>
<!--l. 288--><p class="noindent" ><span 
class="cmr-10x-x-109">Sedna configuration parameters are stored in the file </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">sednaconf.xml</span></span></span> <span 
class="cmr-10x-x-109">located</span>
<span 
class="cmr-10x-x-109">in:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-5">
[win:]&#x00A0;SEDNA_INSTALL\etc
&#x00A0;<br />[nix:]&#x00A0;SEDNA_INSTALL/etc
</div>
<!--l. 294--><p class="nopar" >
<!--l. 296--><p class="indent" >   <span 
class="cmr-10x-x-109">The file is optional. If there is no such file, the default values are used. The file is an</span>
<span 
class="cmr-10x-x-109">XML document, which satisfies the following DTD:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-6">
&#x003C;!ELEMENT&#x00A0;sednaconf&#x00A0;(sedna_data,&#x00A0;os_primitives_id_min_bound,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;listener_port,&#x00A0;ping_port,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;event_log_level,&#x00A0;keep_alive_timeout,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;session_stack_depth)&#x003E;
&#x00A0;<br />&#x003C;!ELEMENT&#x00A0;sedna_data&#x00A0;(#PCDATA)&#x003E;
&#x00A0;<br />&#x003C;!ELEMENT&#x00A0;os_primitives_id_min_bound&#x00A0;(#PCDATA)&#x003E;
&#x00A0;<br />&#x003C;!ELEMENT&#x00A0;listen_address&#x00A0;(#PCDATA)&#x003E;
&#x00A0;<br />&#x003C;!ELEMENT&#x00A0;listener_port&#x00A0;(#PCDATA)&#x003E;
&#x00A0;<br />&#x003C;!ELEMENT&#x00A0;ping_port&#x00A0;(#PCDATA)&#x003E;
&#x00A0;<br />&#x003C;!ELEMENT&#x00A0;event_log_level&#x00A0;(#PCDATA)&#x003E;
&#x00A0;<br />&#x003C;!ELEMENT&#x00A0;keep_alive_timeout&#x00A0;(#PCDATA)&#x003E;
&#x00A0;<br />&#x003C;!ELEMENT&#x00A0;session_stack_depth&#x00A0;(#PCDATA)&#x003E;
</div>
<!--l. 313--><p class="nopar" >
<!--l. 315--><p class="indent" >   <span 
class="cmr-10x-x-109">The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">sedna_data</span></span></span> <span 
class="cmr-10x-x-109">element contains the path to the directory where database</span>
<span 
class="cmr-10x-x-109">configuration files (in the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">cfg</span></span></span> <span 
class="cmr-10x-x-109">subdirectory) and databases (in the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">data</span></span></span> <span 
class="cmr-10x-x-109">subdirectory)</span>
<span 
class="cmr-10x-x-109">are stored. Path must be absolute and exist. The path by default is </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">SEDNA_INSTALL</span></span></span><span 
class="cmr-10x-x-109">.</span>
<!--l. 320--><p class="indent" >   <span 
class="cmr-10x-x-109">The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">os_primitives_id_min_bound</span></span></span> <span 
class="cmr-10x-x-109">element defines the minimal value for identifiers</span>
<span 
class="cmr-10x-x-109">of OS resources (e.g. semaphores) used in Sedna. In order to run several Sedna instances</span>
<span 
class="cmr-10x-x-109">on one machine Administrator should configure this parameter in a such way that</span>
<span 
class="cmr-10x-x-109">identifiers belonging to different Sedna instances does not intersect. In a standard</span>
<span 
class="cmr-10x-x-109">configuration one Sedna instance acquires a range of identifiers which length is equal to</span>
<span 
class="cmr-10x-x-109">150.</span>
<!--l. 327--><p class="indent" >   <span 
class="cmr-10x-x-109">The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">listen_address</span></span></span> <span 
class="cmr-10x-x-109">element specifies the address on which the server is to listen</span>
<span 
class="cmr-10x-x-109">for connections from client applications. The value takes the form of a host name or</span>
<span 
class="cmr-10x-x-109">numeric IP address. The value </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">0.0.0.0</span></span></span> <span 
class="cmr-10x-x-109">corresponds to all available IP interfaces. The</span>
<span 
class="cmr-10x-x-109">default value is </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">localhost</span></span></span><span 
class="cmr-10x-x-109">, which allows only local &#8221;loopback&#8221; connections to be</span>
<span 
class="cmr-10x-x-109">made.</span>
<!--l. 333--><p class="indent" >   <span 
class="cmr-10x-x-109">The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">listener_port</span></span></span> <span 
class="cmr-10x-x-109">element defines the port number for listening for connection</span>
<span 
class="cmr-10x-x-109">requests from a client.</span>
<!--l. 336--><p class="indent" >   <span 
class="cmr-10x-x-109">The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">ping_port</span></span></span> <span 
class="cmr-10x-x-109">element defines the port number of Sedna ping server that is an</span>
<span 
class="cmr-10x-x-109">internal kernel mechanism. It is used to stop all Sedna processes in case of</span>
<span 
class="cmr-10x-x-109">crash.</span>
<!--l. 340--><p class="indent" >   <span 
class="cmr-10x-x-109">The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">event_log_level</span></span></span> <span 
class="cmr-10x-x-109">defines event log severity level (0-4). For full description see</span>
<span 
class="cmr-10x-x-109">section </span><a 
href="#x1-260002.6"><span 
class="cmr-10x-x-109">2.6</span><!--tex4ht:ref: sec:event-log --></a><span 
class="cmr-10x-x-109">, Event Log.</span>
<!--l. 343--><p class="indent" >   <span 
class="cmr-10x-x-109">The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">keep_alive_timeout</span></span></span> <span 
class="cmr-10x-x-109">defines session keep alive timeout, i.e. number of seconds</span>
<span 
class="cmr-10x-x-109">to wait for the next request from the some client on the same connection.</span>
<!--l. 347--><p class="indent" >   <span 
class="cmr-10x-x-109">The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">session_stack_depth</span></span></span> <span 
class="cmr-10x-x-109">defines the maximum safe depth of the session&#8217;s physical</span>
<span 
class="cmr-10x-x-109">operations stack. Setting the parameter higher than the actual process stack may fit will</span>
<span 
class="cmr-10x-x-109">mean that a runaway recursive function can crash an individual session (and</span>
                                                                          

                                                                          
<span 
class="cmr-10x-x-109">server in the current architecture). The default setting is 4000, which is unlikely</span>
<span 
class="cmr-10x-x-109">to risk crashes. However, it may be too small to allow execution of complex</span>
<span 
class="cmr-10x-x-109">functions.</span>
<!--l. 354--><p class="indent" >   <span 
class="cmr-10x-x-109">To tune the Sedna configuration, Administrator should edit the proper elements of</span>
<span 
class="cmr-10x-x-109">the Sedna configuration file. Note, in order for new configuration to take effect you must</span>
<span 
class="cmr-10x-x-109">restart Sedna server (</span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_gov</span></span></span><span 
class="cmr-10x-x-109">).</span>
<!--l. 362--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark"><span 
class="cmr-10x-x-109">2.3   </span></span> <a 
 id="x1-90002.3"></a><span 
class="cmr-10x-x-109">Managing Databases</span></h4>
<!--l. 363--><p class="noindent" >
   <div class="subsubsectionTOCS">
   <span 
class="cmr-10x-x-109">&#x00A0;</span><span 
class="cmr-10x-x-109">&#x00A0;</span><span class="subsubsectionToc" ><span 
class="cmr-10x-x-109">2.3.1 </span><a 
href="#x1-100002.3.1"><span 
class="cmr-10x-x-109">Creating a Database</span></a></span>
<br />   <span 
class="cmr-10x-x-109">&#x00A0;</span><span 
class="cmr-10x-x-109">&#x00A0;</span><span class="subsubsectionToc" ><span 
class="cmr-10x-x-109">2.3.2 </span><a 
href="#x1-110002.3.2"><span 
class="cmr-10x-x-109">Configuring a Database</span></a></span>
<br />   <span 
class="cmr-10x-x-109">&#x00A0;</span><span 
class="cmr-10x-x-109">&#x00A0;</span><span class="subsubsectionToc" ><span 
class="cmr-10x-x-109">2.3.3 </span><a 
href="#x1-120002.3.3"><span 
class="cmr-10x-x-109">Deleting a Database</span></a></span>
<br />   <span 
class="cmr-10x-x-109">&#x00A0;</span><span 
class="cmr-10x-x-109">&#x00A0;</span><span class="subsubsectionToc" ><span 
class="cmr-10x-x-109">2.3.4 </span><a 
href="#x1-130002.3.4"><span 
class="cmr-10x-x-109">Running a Database</span></a></span>
<br />   <span 
class="cmr-10x-x-109">&#x00A0;</span><span 
class="cmr-10x-x-109">&#x00A0;</span><span class="subsubsectionToc" ><span 
class="cmr-10x-x-109">2.3.5 </span><a 
href="#x1-140002.3.5"><span 
class="cmr-10x-x-109">Stopping a Database</span></a></span>
   </div>
   <h5 class="subsubsectionHead"><span class="titlemark"><span 
class="cmr-10x-x-109">2.3.1   </span></span> <a 
 id="x1-100002.3.1"></a><span 
class="cmr-10x-x-109">Creating a Database</span></h5>
<!--l. 366--><p class="noindent" ><span 
class="cmr-10x-x-109">To create a database, use the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_cdb</span></span></span> <span 
class="cmr-10x-x-109">command.</span>
<!--l. 368--><p class="indent" >   <span 
class="cmr-10x-x-109">Each database consists of the following files, which are located as described in</span>
<span 
class="cmr-10x-x-109">Section </span><a 
href="#x1-40002.1"><span 
class="cmr-10x-x-109">2.1</span><!--tex4ht:ref: sec:dir-structure --></a><span 
class="cmr-10x-x-109">.</span>
      <ul class="itemize1">
      <li class="itemize"><span 
class="cmr-10x-x-109">The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">&#x003C;db_name&#x003E;.sedata</span></span></span> <span 
class="cmr-10x-x-109">file is used for storing persistent XML data, which</span>
      <span 
class="cmr-10x-x-109">are loaded to the database by user using LOAD/UPDATE expressions.</span>
      </li>
      <li class="itemize"><span 
class="cmr-10x-x-109">The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">&#x003C;db_name&#x003E;.setmp</span></span></span> <span 
class="cmr-10x-x-109">file is used for storing temporary XML data. It stores</span>
      <span 
class="cmr-10x-x-109">intermediate results and size may grow during query execution.</span>
      </li>
      <li class="itemize"><span 
class="cmr-10x-x-109">The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">&#x003C;db_name&#x003E;.*llog</span></span></span> <span 
class="cmr-10x-x-109">files are used for storing database logical log.</span></li></ul>
<!--l. 380--><p class="indent" >   <span 
class="cmr-10x-x-109">Besides, for each database there are run-time configuration parameters, which are</span>
<span 
class="cmr-10x-x-109">stored in the database configuration file (see Section </span><a 
href="#x1-110002.3.2"><span 
class="cmr-10x-x-109">2.3.2</span><!--tex4ht:ref: ConfigDB --></a><span 
class="cmr-10x-x-109">).</span>
<!--l. 383--><p class="indent" >   <span 
class="cmr-10x-x-109">The usage of the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_cdb</span></span></span> <span 
class="cmr-10x-x-109">command is as follows:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-7">
Usage:&#x00A0;se_cdb&#x00A0;[options]&#x00A0;dbname
&#x00A0;<br />
&#x00A0;<br />options:
&#x00A0;<br />&#x00A0;&#x00A0;--help&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;this&#x00A0;help&#x00A0;and&#x00A0;exit
&#x00A0;<br />&#x00A0;&#x00A0;-help&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;this&#x00A0;help&#x00A0;and&#x00A0;exit
&#x00A0;<br />&#x00A0;&#x00A0;-version&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;product&#x00A0;version&#x00A0;and&#x00A0;exit
&#x00A0;<br />&#x00A0;&#x00A0;-data-file-max-size&#x00A0;Mbs&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;the&#x00A0;max&#x00A0;size&#x00A0;of&#x00A0;data&#x00A0;file&#x00A0;(in&#x00A0;Mb),
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;infinite&#x00A0;size&#x00A0;by&#x00A0;default&#x00A0;(0)
&#x00A0;<br />&#x00A0;&#x00A0;-tmp-file-max-size&#x00A0;Mbs&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;the&#x00A0;max&#x00A0;size&#x00A0;of&#x00A0;tmp&#x00A0;file&#x00A0;(in&#x00A0;Mb),
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;infinite&#x00A0;size&#x00A0;by&#x00A0;default&#x00A0;(0)
&#x00A0;<br />&#x00A0;&#x00A0;-data-file-ext-portion&#x00A0;Mbs&#x00A0;&#x00A0;the&#x00A0;data&#x00A0;file&#x00A0;extending&#x00A0;portion
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;size&#x00A0;(in&#x00A0;Mb),&#x00A0;default&#x00A0;100Mb
&#x00A0;<br />&#x00A0;&#x00A0;-tmp-file-ext-portion&#x00A0;Mbs&#x00A0;&#x00A0;&#x00A0;the&#x00A0;tmp&#x00A0;file&#x00A0;extending&#x00A0;portion
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;size&#x00A0;(in&#x00A0;Mb),&#x00A0;default&#x00A0;100Mb
&#x00A0;<br />&#x00A0;&#x00A0;-data-file-init-size&#x00A0;Mbs&#x00A0;&#x00A0;&#x00A0;&#x00A0;the&#x00A0;data&#x00A0;file&#x00A0;initial&#x00A0;size&#x00A0;(in&#x00A0;Mb),
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;default&#x00A0;100Mb
&#x00A0;<br />&#x00A0;&#x00A0;-tmp-file-init-size&#x00A0;Mbs&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;the&#x00A0;tmp&#x00A0;file&#x00A0;initial&#x00A0;size&#x00A0;(in&#x00A0;Mb),
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;default&#x00A0;100Mb
&#x00A0;<br />&#x00A0;&#x00A0;-bufs-num&#x00A0;N&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;the&#x00A0;number&#x00A0;of&#x00A0;buffers&#x00A0;in&#x00A0;main&#x00A0;memory,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;default&#x00A0;1600&#x00A0;(64Kb&#x00A0;per&#x00A0;buffer)
&#x00A0;<br />&#x00A0;&#x00A0;-upd-crt&#x00A0;N&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;update&#x00A0;criterion&#x00A0;parameter
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(fraction&#x00A0;of&#x00A0;database),&#x00A0;default&#x00A0;0.25
&#x00A0;<br />&#x00A0;&#x00A0;-max-log-files&#x00A0;N&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;maximum&#x00A0;log&#x00A0;files
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;until&#x00A0;log&#x00A0;truncate&#x00A0;(default:&#x00A0;3)
&#x00A0;<br />&#x00A0;&#x00A0;-log-file-size&#x00A0;Mbs&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;maximum&#x00A0;one&#x00A0;log&#x00A0;file&#x00A0;size&#x00A0;(in&#x00A0;Mb),
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(default&#x00A0;100Mb)
&#x00A0;<br />&#x00A0;&#x00A0;-db-security&#x00A0;&#x00A0;level&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;the&#x00A0;level&#x00A0;of&#x00A0;database&#x00A0;security:
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;1)&#x00A0;&#8217;off&#8217;&#x00A0;-&#x00A0;none;
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;2)&#x00A0;&#8217;authentication&#8217;&#x00A0;(default);
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;3)&#x00A0;&#8217;authorization&#8217;
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;db_name&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;name&#x00A0;of&#x00A0;the&#x00A0;database&#x00A0;to&#x00A0;be&#x00A0;created
</div>
<!--l. 419--><p class="nopar" >
<!--l. 421--><p class="indent" >   <span 
class="cmr-10x-x-109">The first and second options are straightforward, typing one of these options</span>
<span 
class="cmr-10x-x-109">administrator can get the exhaustive information about the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_cdb</span></span></span> <span 
class="cmr-10x-x-109">command.</span>
<!--l. 425--><p class="indent" >   <span 
class="cmr-10x-x-109">The third option allows getting the version of the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_cdb</span></span></span> <span 
class="cmr-10x-x-109">command.</span>
<!--l. 427--><p class="indent" >   <span 
class="cmr-10x-x-109">The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-data-file-max-size</span></span></span> <span 
class="cmr-10x-x-109">option allows Administrator to set up the maximum size</span>
<span 
class="cmr-10x-x-109">(in Mb) of the file where the persistent data are stored. The default value for this option</span>
<span 
class="cmr-10x-x-109">is infinite (0). Note, when database hits this limit it raises system error (</span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">SE1012</span></span></span><span 
class="cmr-10x-x-109">) and</span>
                                                                          

                                                                          
<span 
class="cmr-10x-x-109">shutdowns.</span>
<!--l. 432--><p class="indent" >   <span 
class="cmr-10x-x-109">The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-tmp-file-max-size</span></span></span> <span 
class="cmr-10x-x-109">option allows Administrator to set up the maximum size</span>
<span 
class="cmr-10x-x-109">(in Mb) of the file where the temporary data are stored. The default value for this</span>
<span 
class="cmr-10x-x-109">option is infinite (0). Note, when database hits this limit it raises system error (</span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">SE1012</span></span></span><span 
class="cmr-10x-x-109">)</span>
<span 
class="cmr-10x-x-109">and shutdowns.</span>
<!--l. 437--><p class="indent" >   <span 
class="cmr-10x-x-109">The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-data-file-ext-portion</span></span></span> <span 
class="cmr-10x-x-109">option allows Administrator to set up the size (in</span>
<span 
class="cmr-10x-x-109">Mb) of the portion to which the persistent data file will be extended as result of</span>
<span 
class="cmr-10x-x-109">executing resize operation. Resize operation is applied to the persistent data file if its</span>
<span 
class="cmr-10x-x-109">size is less than needed for storing XML documents. The default value is 100</span>
<span 
class="cmr-10x-x-109">Mb.</span>
<!--l. 443--><p class="indent" >   <span 
class="cmr-10x-x-109">The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-tmp-file-ext-portion</span></span></span> <span 
class="cmr-10x-x-109">option allows Administrator to set up the size of the</span>
<span 
class="cmr-10x-x-109">portion to which the temporary data file will be extended as result of executing resize</span>
<span 
class="cmr-10x-x-109">operation. The resize operation is applied to the temporary data file if its size is less</span>
<span 
class="cmr-10x-x-109">than needed for storing temporary data intermediate results of the query, for example).</span>
<span 
class="cmr-10x-x-109">The default value is 100 Mb.</span>
<!--l. 449--><p class="indent" >   <span 
class="cmr-10x-x-109">The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-data-file-init-size</span></span></span> <span 
class="cmr-10x-x-109">option allows Administrator to set up the initial size</span>
<span 
class="cmr-10x-x-109">(in Mb) of the persistent data file. It is obvious that the initial size can&#8217;t be greater</span>
<span 
class="cmr-10x-x-109">than the maximum size of the persistent data file. The default value is 100</span>
<span 
class="cmr-10x-x-109">Mb.</span>
<!--l. 454--><p class="indent" >   <span 
class="cmr-10x-x-109">The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-tmp-file-init-size</span></span></span> <span 
class="cmr-10x-x-109">option allows Administrator to set up the initial size (in</span>
<span 
class="cmr-10x-x-109">Mb) of the temporary data file. It is obvious that the initial size can&#8217;t be greater</span>
<span 
class="cmr-10x-x-109">than the maximum size of the temporary data file. The default value is 100</span>
<span 
class="cmr-10x-x-109">Mb.</span>
<!--l. 459--><p class="indent" >   <span 
class="cmr-10x-x-109">The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-bufs-num</span></span></span> <span 
class="cmr-10x-x-109">option allows Administrator to set up the number of buffers in main</span>
<span 
class="cmr-10x-x-109">memory. This number is connected with the size of the main memory, but the</span>
<span 
class="cmr-10x-x-109">performance of the database depends of this number very much. The default value is</span>
<span 
class="cmr-10x-x-109">1600 buffers, which is equal to 100Mb and we do not recommend to use less</span>
<span 
class="cmr-10x-x-109">number of buffers. The size of one buffer is 64Kb and can&#8217;t be customized by</span>
<span 
class="cmr-10x-x-109">Administrator.</span>
<!--l. 466--><p class="indent" >   <span 
class="cmr-10x-x-109">The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-upd-crt</span></span></span> <span 
class="cmr-10x-x-109">option is the parameter of the Sedna Storage Manager to control</span>
<span 
class="cmr-10x-x-109">snapshot advancement rate. It allows Administrator to specify the fraction of the</span>
<span 
class="cmr-10x-x-109">database updating of which will result in snapshot advancement. The default value is</span>
<span 
class="cmr-10x-x-109">0.25.</span>
<!--l. 471--><p class="indent" >   <span 
class="cmr-10x-x-109">The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-max-log-files</span></span></span> <span 
class="cmr-10x-x-109">option allows Administrator to control how many log files will</span>
<span 
class="cmr-10x-x-109">be created until Storage Manager will try to truncate logical log by making a</span>
<span 
class="cmr-10x-x-109">checkpoint. For example, if the value is 3, then after creating fourth file Storage</span>
<span 
class="cmr-10x-x-109">Manager will try to truncate log. This may significantly speed up recovery process, since</span>
<span 
class="cmr-10x-x-109">there would be much shorter log to analyze. Note, however, that checkpoint</span>
<span 
class="cmr-10x-x-109">may be quite a performance-heavy procedure. So you should not set the value</span>
<span 
class="cmr-10x-x-109">too small. This parameter can be changed later on every Storage Manager</span>
<span 
class="cmr-10x-x-109">run.</span>
<!--l. 480--><p class="indent" >   <span 
class="cmr-10x-x-109">The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-log-file-size</span></span></span> <span 
class="cmr-10x-x-109">option allows to control size of each log file. When current log</span>
<span 
class="cmr-10x-x-109">file size becomes greater than the value specified, new log file is created. With the</span>
                                                                          

                                                                          
<span 
class="cmr-10x-x-109">previous parameter it allows Administrator to find compromise between frequent</span>
<span 
class="cmr-10x-x-109">checkpoints and faster recovery. This parameter can be set only on database creation</span>
<span 
class="cmr-10x-x-109">and cannot be changed later.</span>
<!--l. 486--><p class="indent" >   <span 
class="cmr-10x-x-109">The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-db-security</span></span></span> <span 
class="cmr-10x-x-109">option is used to set the level of security in a database being</span>
<span 
class="cmr-10x-x-109">created. Currently there are 3 possible levels: (1) </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">off</span></span></span> <span 
class="cmr-10x-x-109">- there is no authentication,</span>
<span 
class="cmr-10x-x-109">neither authorization; (2) </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">authentication</span></span></span> <span 
class="cmr-10x-x-109">- only authentication supported (checks user</span>
<span 
class="cmr-10x-x-109">name and password on session open) (3) </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">authorization</span></span></span> <span 
class="cmr-10x-x-109">- authentication and</span>
<span 
class="cmr-10x-x-109">authorization supported (support for database users and privileges). By default</span>
<span 
class="cmr-10x-x-109">database is created with </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">authentication</span></span></span> <span 
class="cmr-10x-x-109">level. Note, that this parameter is set only</span>
<span 
class="cmr-10x-x-109">once on database creation and cannot be changed later for the database.</span>
<!--l. 495--><p class="indent" >   <span 
class="cmr-10x-x-109">The last parameter </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">db_name</span></span></span> <span 
class="cmr-10x-x-109">is the name of the database to be created. Database</span>
<span 
class="cmr-10x-x-109">name may contain Latin letters, numbers. Also the following special symbols are allowed</span>
<span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">#%&amp;()[]{},.-_=@^&#8216;~</span></span></span> <span 
class="cmr-10x-x-109">(double quote (quote on Windows) database name parameter to</span>
<span 
class="cmr-10x-x-109">create a database with the name which contains special symbols). There cannot be two</span>
<span 
class="cmr-10x-x-109">databases with the same name.</span>
<!--l. 505--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark"><span 
class="cmr-10x-x-109">2.3.2   </span></span> <a 
 id="x1-110002.3.2"></a><span 
class="cmr-10x-x-109">Configuring a Database</span></h5>
<!--l. 508--><p class="noindent" ><span 
class="cmr-10x-x-109">For each database there is a set of run-time configuration parameters, which store in</span>
<span 
class="cmr-10x-x-109">the database configuration file. The name of the database configuration file is</span>
<span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">&#x003C;db_name&#x003E;_cfg.xml</span></span></span> <span 
class="cmr-10x-x-109">where </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">&#x003C;db_name&#x003E;</span></span></span> <span 
class="cmr-10x-x-109">is the name of the database. The location of</span>
<span 
class="cmr-10x-x-109">configuration file is:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-8">
[win:]&#x00A0;SEDNA_INSTALL\cfg
&#x00A0;<br />[nix:]&#x00A0;SEDNA_INSTALL/cfg
</div>
<!--l. 516--><p class="nopar" >
<!--l. 518--><p class="indent" >   <span 
class="cmr-10x-x-109">The configuration file is an XML document, which satisfies the following</span>
<span 
class="cmr-10x-x-109">DTD:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-9">
&#x003C;!ELEMENT&#x00A0;db&#x00A0;(name,&#x00A0;bufs_num,&#x00A0;max_trs_num,&#x00A0;upd_crt,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;tmp_file_initial_size)&#x003E;
&#x00A0;<br />&#x003C;!ELEMENT&#x00A0;name&#x00A0;(#PCDATA)&#x003E;
&#x00A0;<br />&#x003C;!ELEMENT&#x00A0;bufs_num&#x00A0;(#PCDATA)&#x003E;
&#x00A0;<br />&#x003C;!ELEMENT&#x00A0;max_trs_num&#x00A0;(#PCDATA)&#x003E;
&#x00A0;<br />&#x003C;!ELEMENT&#x00A0;max_log_files&#x00A0;(#PCDATA)&#x003E;
&#x00A0;<br />&#x003C;!ELEMENT&#x00A0;upd_crt&#x00A0;(#PCDATA)&#x003E;
&#x00A0;<br />&#x003C;!ELEMENT&#x00A0;tmp_file_initial_size&#x00A0;(#PCDATA)&#x003E;
</div>
<!--l. 530--><p class="nopar" >
<!--l. 532--><p class="indent" >   <span 
class="cmr-10x-x-109">The root of this XML document is the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">db</span></span></span> <span 
class="cmr-10x-x-109">element, which contains </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">name</span></span></span><span 
class="cmr-10x-x-109">,</span>
<span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">bufs_num</span></span></span><span 
class="cmr-10x-x-109">, </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">max_trs_num</span></span></span><span 
class="cmr-10x-x-109">, </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">max_log_files</span></span></span><span 
class="cmr-10x-x-109">, </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">upd_crt</span></span></span><span 
class="cmr-10x-x-109">, </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">tmp_file_initial_size</span></span></span>
<span 
class="cmr-10x-x-109">elements. The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">name</span></span></span> <span 
class="cmr-10x-x-109">element defines the name of the database. The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">bufs_num</span></span></span>
<span 
class="cmr-10x-x-109">element defines the number of buffers in main memory for Storage Manager</span>
<span 
class="cmr-10x-x-109">component. The semantic of </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">max_trs_num</span></span></span> <span 
class="cmr-10x-x-109">element will be defined in future versions</span>
<span 
class="cmr-10x-x-109">of Sedna. The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">max_log_files</span></span></span> <span 
class="cmr-10x-x-109">element defines the maximum number of log</span>
<span 
class="cmr-10x-x-109">files prior to truncation attempt. The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">upd_crt</span></span></span> <span 
class="cmr-10x-x-109">element defines the fraction of</span>
<span 
class="cmr-10x-x-109">the database updating of which will result in snapshot advancement. Finally,</span>
<span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">tmp-file-initial-size</span></span></span> <span 
class="cmr-10x-x-109">defines initial size of the temporary data file in megabytes.</span>
<span 
class="cmr-10x-x-109">Once the database is started up, old temporary file is removed and empty one of this</span>
<span 
class="cmr-10x-x-109">size is initialized. Default value is 100 Mb. To tune the database run-time configuration,</span>
<span 
class="cmr-10x-x-109">Administrator should edit the proper elements of the database configuration file.</span>
<span 
class="cmr-10x-x-109">Note, in order for new configuration to take effect you must restart Storage</span>
<span 
class="cmr-10x-x-109">Manager.</span>
<!--l. 552--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark"><span 
class="cmr-10x-x-109">2.3.3   </span></span> <a 
 id="x1-120002.3.3"></a><span 
class="cmr-10x-x-109">Deleting a Database</span></h5>
<!--l. 554--><p class="noindent" ><span 
class="cmr-10x-x-109">To drop a database, use the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_ddb</span></span></span> <span 
class="cmr-10x-x-109">command. The usage of the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_ddb</span></span></span> <span 
class="cmr-10x-x-109">command is as</span>
<span 
class="cmr-10x-x-109">follows:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-10">
Usage:&#x00A0;se_ddb&#x00A0;[options]&#x00A0;dbname
&#x00A0;<br />
&#x00A0;<br />options:
&#x00A0;<br />&#x00A0;&#x00A0;--help&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;this&#x00A0;help&#x00A0;and&#x00A0;exit
&#x00A0;<br />&#x00A0;&#x00A0;-help&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;this&#x00A0;help&#x00A0;and&#x00A0;exit
&#x00A0;<br />&#x00A0;&#x00A0;-version&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;product&#x00A0;version&#x00A0;and&#x00A0;exit
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;db-name&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;The&#x00A0;name&#x00A0;of&#x00A0;the&#x00A0;database
</div>
<!--l. 566--><p class="nopar" >
<!--l. 568--><p class="indent" >   <span 
class="cmr-10x-x-109">The first and second options are straightforward, typing one of these options</span>
<span 
class="cmr-10x-x-109">Administrator can get the exhaustive information about the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_ddb</span></span></span> <span 
class="cmr-10x-x-109">command.</span>
<!--l. 572--><p class="indent" >   <span 
class="cmr-10x-x-109">The third option allows getting the version of the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_ddb</span></span></span> <span 
class="cmr-10x-x-109">command.</span>
<!--l. 574--><p class="indent" >   <span 
class="cmr-10x-x-109">The last parameter </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">db_name</span></span></span> <span 
class="cmr-10x-x-109">is the name of the database to be dropped.</span>
<!--l. 576--><p class="indent" >   <span 
class="cmr-10x-x-109">Note that administrator must stop database firstly (see </span><a 
href="#x1-140002.3.5"><span 
class="cmr-10x-x-109">2.3.5</span><!--tex4ht:ref: StopDB --></a><span 
class="cmr-10x-x-109">) and then run </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_ddb</span></span></span>
<span 
class="cmr-10x-x-109">utility.</span>
<!--l. 583--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark"><span 
class="cmr-10x-x-109">2.3.4   </span></span> <a 
 id="x1-130002.3.4"></a><span 
class="cmr-10x-x-109">Running a Database</span></h5>
<!--l. 586--><p class="noindent" ><span 
class="cmr-10x-x-109">To run the database with name </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">db_name</span></span></span> <span 
class="cmr-10x-x-109">Administrator should use </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_sm</span></span></span> <span 
class="cmr-10x-x-109">command.</span>
<span 
class="cmr-10x-x-109">The run-time configuration parameters of the database can be set by means of </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_sm</span></span></span>
<span 
class="cmr-10x-x-109">command line options. If configuration parameter is not set via command line option,</span>
<span 
class="cmr-10x-x-109">than the database Storage Manager retrieves the default value of this parameter from</span>
<span 
class="cmr-10x-x-109">configuration file (see section </span><a 
href="#x1-110002.3.2"><span 
class="cmr-10x-x-109">2.3.2</span><!--tex4ht:ref: ConfigDB --></a><span 
class="cmr-10x-x-109">).</span>
<!--l. 593--><p class="indent" >   <span 
class="cmr-10x-x-109">The usage of the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_sm</span></span></span> <span 
class="cmr-10x-x-109">command is as follows:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-11">
Usage:&#x00A0;se_sm&#x00A0;[options]&#x00A0;dbname
&#x00A0;<br />
&#x00A0;<br />options:
&#x00A0;<br />&#x00A0;&#x00A0;-help&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;this&#x00A0;help&#x00A0;and&#x00A0;exit
&#x00A0;<br />&#x00A0;&#x00A0;--help&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;this&#x00A0;help&#x00A0;and&#x00A0;exit
&#x00A0;<br />&#x00A0;&#x00A0;-version&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;product&#x00A0;version&#x00A0;and&#x00A0;exit
&#x00A0;<br />&#x00A0;&#x00A0;-background-mode&#x00A0;on/off&#x00A0;&#x00A0;start&#x00A0;the&#x00A0;server&#x00A0;in&#x00A0;the&#x00A0;background&#x00A0;mode
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(default&#x00A0;on)
&#x00A0;<br />&#x00A0;&#x00A0;-bufs-num&#x00A0;N&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;the&#x00A0;number&#x00A0;of&#x00A0;buffers&#x00A0;in&#x00A0;main&#x00A0;memory,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(config&#x00A0;file&#x00A0;defines&#x00A0;default&#x00A0;value)
&#x00A0;<br />&#x00A0;&#x00A0;-upd-crt&#x00A0;N&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;criterion&#x00A0;parameter&#x00A0;to&#x00A0;advance&#x00A0;snapshots
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(config&#x00A0;file&#x00A0;defines&#x00A0;default&#x00A0;value)
&#x00A0;<br />&#x00A0;&#x00A0;-max-log-files&#x00A0;N&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;maximum&#x00A0;log&#x00A0;files&#x00A0;until&#x00A0;log&#x00A0;truncate
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(default:&#x00A0;3)
&#x00A0;<br />&#x00A0;&#x00A0;-tmp-file-init-size&#x00A0;Mbs&#x00A0;&#x00A0;the&#x00A0;tmp&#x00A0;file&#x00A0;initial&#x00A0;size&#x00A0;(in&#x00A0;Mb),
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(config&#x00A0;file&#x00A0;defines&#x00A0;default&#x00A0;value)
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;db-name&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;The&#x00A0;name&#x00A0;of&#x00A0;the&#x00A0;database
</div>
<!--l. 614--><p class="nopar" >
<!--l. 616--><p class="indent" >   <span 
class="cmr-10x-x-109">The first and second options are straightforward, typing this option Administrator</span>
<span 
class="cmr-10x-x-109">can get the exhaustive information about the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_sm</span></span></span> <span 
class="cmr-10x-x-109">command.</span>
<!--l. 619--><p class="indent" >   <span 
class="cmr-10x-x-109">The third option allows getting the version of the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_sm</span></span></span> <span 
class="cmr-10x-x-109">command. The</span>
<span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-background-mode</span></span></span> <span 
class="cmr-10x-x-109">option allows Administrator to start database in the background</span>
<span 
class="cmr-10x-x-109">mode.</span>
<!--l. 623--><p class="indent" >   <span 
class="cmr-10x-x-109">The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-bufs-num</span></span></span> <span 
class="cmr-10x-x-109">option allows to set up the number of buffers in main memory. This</span>
<span 
class="cmr-10x-x-109">number is connected with the size of the main memory, but the performance of the</span>
<span 
class="cmr-10x-x-109">database depends of this number very much. The default value is retrieved from</span>
<span 
class="cmr-10x-x-109">configuration file. The size of one buffer is 64Kb and can&#8217;t be customized.</span>
<!--l. 629--><p class="indent" >   <span 
class="cmr-10x-x-109">The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-upd-crt</span></span></span> <span 
class="cmr-10x-x-109">option allows Administrator to specify the fraction of the database</span>
<span 
class="cmr-10x-x-109">updating of which will result in snapshot advancement.</span>
<!--l. 632--><p class="indent" >   <span 
class="cmr-10x-x-109">The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-max-log-files</span></span></span> <span 
class="cmr-10x-x-109">option allows Administrator to control how many log files will</span>
<span 
class="cmr-10x-x-109">be created until Storage Manager will try to truncate logical log by making a</span>
<span 
class="cmr-10x-x-109">checkpoint. For example, if the value is 3, then after creating fourth file Storage</span>
<span 
class="cmr-10x-x-109">Manager will try to truncate log. This may significantly speed up recovery</span>
<span 
class="cmr-10x-x-109">process, since there would be much shorter log to analyze. Note, however, that</span>
<span 
class="cmr-10x-x-109">checkpoint may be quite a performance-heavy procedure. So you should not set the</span>
<span 
class="cmr-10x-x-109">value too small. This parameter can be changed on every Storage Manager</span>
<span 
class="cmr-10x-x-109">run.</span>
<!--l. 641--><p class="indent" >   <span 
class="cmr-10x-x-109">The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-tmp-file-init-size</span></span></span> <span 
class="cmr-10x-x-109">defines initial size of the temporary data file in</span>
<span 
class="cmr-10x-x-109">megabytes. Once the database is started up, old temporary file is removed and empty</span>
                                                                          

                                                                          
<span 
class="cmr-10x-x-109">one of this size is initialized. Default value of this parameter is retrieved from the</span>
<span 
class="cmr-10x-x-109">database configuration file </span><a 
href="#x1-110002.3.2"><span 
class="cmr-10x-x-109">2.3.2</span><!--tex4ht:ref: ConfigDB --></a><span 
class="cmr-10x-x-109">.</span>
<!--l. 646--><p class="indent" >   <span 
class="cmr-10x-x-109">The last parameter </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">dbname</span></span></span> <span 
class="cmr-10x-x-109">defines the name of the database to be started</span>
<span 
class="cmr-10x-x-109">up.</span>
<!--l. 649--><p class="indent" >   <span 
class="cmr-10x-x-109">Note: before running any database be sure that Sedna Server is strarted up (see</span>
<span 
class="cmr-10x-x-109">section </span><a 
href="#x1-60002.2.1"><span 
class="cmr-10x-x-109">2.2.1</span><!--tex4ht:ref: StartSedna --></a><span 
class="cmr-10x-x-109">).</span>
<!--l. 656--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark"><span 
class="cmr-10x-x-109">2.3.5   </span></span> <a 
 id="x1-140002.3.5"></a><span 
class="cmr-10x-x-109">Stopping a Database</span></h5>
<!--l. 659--><p class="noindent" ><span 
class="cmr-10x-x-109">To stop the database with name </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">db_name</span></span></span><span 
class="cmr-10x-x-109">, Administrator should use </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_smsd</span></span></span>
<span 
class="cmr-10x-x-109">command. This command takes one input parameter, which defines the name</span>
<span 
class="cmr-10x-x-109">of the database to be shut down. The usage of the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_smsd</span></span></span> <span 
class="cmr-10x-x-109">command is as</span>
<span 
class="cmr-10x-x-109">follows:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-12">
Usage:&#x00A0;se_smsd&#x00A0;[options]&#x00A0;dbname
&#x00A0;<br />
&#x00A0;<br />options:
&#x00A0;<br />&#x00A0;&#x00A0;--help&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;this&#x00A0;help&#x00A0;and&#x00A0;exit
&#x00A0;<br />&#x00A0;&#x00A0;-help&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;this&#x00A0;help&#x00A0;and&#x00A0;exit
&#x00A0;<br />&#x00A0;&#x00A0;-version&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;product&#x00A0;version&#x00A0;and&#x00A0;exit
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;db-name&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;The&#x00A0;name&#x00A0;of&#x00A0;the&#x00A0;database
</div>
<!--l. 673--><p class="nopar" >
<!--l. 675--><p class="indent" >   <span 
class="cmr-10x-x-109">The first and second options are straightforward, typing these options Administrator</span>
<span 
class="cmr-10x-x-109">can get the exhaustive information about the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_smsd</span></span></span> <span 
class="cmr-10x-x-109">command. The third option</span>
<span 
class="cmr-10x-x-109">allows getting the version of the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_smsd</span></span></span><span 
class="cmr-10x-x-109">.</span>
<!--l. 679--><p class="indent" >   <span 
class="cmr-10x-x-109">Note that </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_smsd</span></span></span> <span 
class="cmr-10x-x-109">command causes a roll back of all active transactions executed</span>
<span 
class="cmr-10x-x-109">over </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">db_name</span></span></span> <span 
class="cmr-10x-x-109">database.</span>
<!--l. 686--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark"><span 
class="cmr-10x-x-109">2.4   </span></span> <a 
 id="x1-150002.4"></a><span 
class="cmr-10x-x-109">Sedna Terminal</span></h4>
<!--l. 689--><p class="noindent" ><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_term</span></span></span> <span 
class="cmr-10x-x-109">is an interactive terminal to Sedna. It is a C application that uses Sedna C</span>
<span 
class="cmr-10x-x-109">API (see &#8220;Sedna Programmer&#8217;s Guide&#8221;) to work with Sedna. It enables you to open a</span>
<span 
class="cmr-10x-x-109">session to one of the Sedna database, type in queries interactively, issue them to the</span>
<span 
class="cmr-10x-x-109">database and see the query results. Alternatively, input can be from a file, or a single</span>
<span 
class="cmr-10x-x-109">query can be passed for execution as a command line parameter. In addition, it provides</span>
<span 
class="cmr-10x-x-109">a number of meta-commands.</span>
<!--l. 697--><p class="indent" >   <span 
class="cmr-10x-x-109">The usage of the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_term</span></span></span> <span 
class="cmr-10x-x-109">is as follows:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-13">
Usage:&#x00A0;se_term&#x00A0;[options]&#x00A0;dbname
&#x00A0;<br />
&#x00A0;<br />options:
&#x00A0;<br />&#x00A0;&#x00A0;-help&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;this&#x00A0;help&#x00A0;and&#x00A0;exit
&#x00A0;<br />&#x00A0;&#x00A0;--help&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;this&#x00A0;help&#x00A0;and&#x00A0;exit
&#x00A0;<br />&#x00A0;&#x00A0;-version&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;product&#x00A0;version&#x00A0;and&#x00A0;exit
&#x00A0;<br />&#x00A0;&#x00A0;-file&#x00A0;filename&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;file&#x00A0;with&#x00A0;an&#x00A0;XQuery&#x00A0;query
&#x00A0;<br />&#x00A0;&#x00A0;-output&#x00A0;filename&#x00A0;&#x00A0;&#x00A0;&#x00A0;output&#x00A0;file&#x00A0;(default&#x00A0;stdout)
&#x00A0;<br />&#x00A0;&#x00A0;-query&#x00A0;"query"&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;XQuery&#x00A0;query&#x00A0;to&#x00A0;execute
&#x00A0;<br />&#x00A0;&#x00A0;-echo&#x00A0;on/off&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;se_term&#x00A0;output
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(default:&#x00A0;on&#x00A0;for&#x00A0;interactive&#x00A0;mode,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;off&#x00A0;for&#x00A0;batch&#x00A0;mode)
&#x00A0;<br />&#x00A0;&#x00A0;-show-time&#x00A0;on/off&#x00A0;&#x00A0;&#x00A0;show&#x00A0;time&#x00A0;of&#x00A0;the&#x00A0;latest&#x00A0;query&#x00A0;execution
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(default&#x00A0;off)
&#x00A0;<br />&#x00A0;&#x00A0;-debug&#x00A0;on/off&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;execute&#x00A0;statements&#x00A0;in&#x00A0;debug&#x00A0;mode
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(default&#x00A0;off)
&#x00A0;<br />&#x00A0;&#x00A0;-host&#x00A0;host&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;hostname&#x00A0;of&#x00A0;the&#x00A0;machine&#x00A0;with&#x00A0;Sedna&#x00A0;running
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(default&#x00A0;localhost)
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;-port-number&#x00A0;port&#x00A0;&#x00A0;&#x00A0;socket&#x00A0;listening&#x00A0;port&#x00A0;(default&#x00A0;5050)
&#x00A0;<br />&#x00A0;&#x00A0;-name&#x00A0;name&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;user&#x00A0;name
&#x00A0;<br />&#x00A0;&#x00A0;-pswd&#x00A0;password&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;user&#x00A0;password
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;db-name&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;database&#x00A0;name
</div>
<!--l. 724--><p class="nopar" >
<!--l. 726--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-help</span></span></span> <span 
class="cmr-10x-x-109">or </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">--help</span></span></span> <span 
class="cmr-10x-x-109">provides the exhaustive information about the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_term</span></span></span><span 
class="cmr-10x-x-109">.</span>
<!--l. 729--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-version</span></span></span> <span 
class="cmr-10x-x-109">option allows getting the version of the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_term</span></span></span><span 
class="cmr-10x-x-109">.</span>
<!--l. 731--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-file</span></span></span> <span 
class="cmr-10x-x-109">option specifies the name of the file that contains any number of queries and</span>
<span 
class="cmr-10x-x-109">meta-commands. </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_term</span></span></span> <span 
class="cmr-10x-x-109">uses this file as the source of queries and meta-commands</span>
<span 
class="cmr-10x-x-109">instead of reading them interactively. </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_term</span></span></span> <span 
class="cmr-10x-x-109">executes the queries and meta-commands</span>
<span 
class="cmr-10x-x-109">from file consequently and exit. XQuery and XUpdate statements must be delimited</span>
<span 
class="cmr-10x-x-109">with ampersand symbol at the end.</span>
<!--l. 737--><p class="indent" >   <span 
class="cmr-10x-x-109">For example, the following script turns off autocommit mode, then executes a</span>
<span 
class="cmr-10x-x-109">number of XQuery statements and finally commits transaction explicitly:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-14">
\nac
&#x00A0;<br />CREATE&#x00A0;DOCUMENT&#x00A0;"test"&amp;
&#x00A0;<br />UPDATE&#x00A0;INSERT&#x00A0;&#x003C;test&#x003E;{"test"}&#x003C;/test&#x003E;&#x00A0;INTO&#x00A0;fn:doc("test")&amp;
&#x00A0;<br />fn:doc("test")&amp;
&#x00A0;<br />\commit
</div>
<!--l. 747--><p class="nopar" >
<!--l. 749--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-output</span></span></span> <span 
class="cmr-10x-x-109">option specifies a filename of a file to redirect all </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_term</span></span></span> <span 
class="cmr-10x-x-109">output</span>
<span 
class="cmr-10x-x-109">to.</span>
<!--l. 752--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-query</span></span></span> <span 
class="cmr-10x-x-109">option specifies the query to execute.</span>
<!--l. 754--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-echo</span></span></span> <span 
class="cmr-10x-x-109">option specifies if </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_term</span></span></span> <span 
class="cmr-10x-x-109">output needs to be displayed or not. If the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">echo</span></span></span> <span 
class="cmr-10x-x-109">is</span>
<span 
class="cmr-10x-x-109">on, the output is displayed, if the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">echo</span></span></span> <span 
class="cmr-10x-x-109">is off, the output is not displayed. By default,</span>
<span 
class="cmr-10x-x-109">the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">echo</span></span></span> <span 
class="cmr-10x-x-109">option is set to on when using </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_term</span></span></span> <span 
class="cmr-10x-x-109">in an interactive mode, and the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">echo</span></span></span>
<span 
class="cmr-10x-x-109">option is set to off when using </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_term</span></span></span> <span 
class="cmr-10x-x-109">in a batch mode (running queries/commands</span>
<span 
class="cmr-10x-x-109">from file).</span>
<!--l. 761--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-show-time</span></span></span> <span 
class="cmr-10x-x-109">option allows getting the time of the latest query execution. If used</span>
<span 
class="cmr-10x-x-109">with the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-query</span></span></span> <span 
class="cmr-10x-x-109">option provides the time of the specified query execution; if used</span>
<span 
class="cmr-10x-x-109">with the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-file</span></span></span> <span 
class="cmr-10x-x-109">option provides the time of the execution of the last query in</span>
<span 
class="cmr-10x-x-109">file.</span>
<!--l. 766--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-debug</span></span></span> <span 
class="cmr-10x-x-109">option specifies session debug mode. If </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-debug</span></span></span> <span 
class="cmr-10x-x-109">option is on, statements of</span>
<span 
class="cmr-10x-x-109">this session are executed in a debug mode. If </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-debug</span></span></span> <span 
class="cmr-10x-x-109">option is off, statement of this</span>
<span 
class="cmr-10x-x-109">session are executed in normal (not debug) mode. For details see &#8221;Debug Facilities&#8221;</span>
<span 
class="cmr-10x-x-109">section of the Sedna Programmer&#8217;s Guide.</span>
<!--l. 772--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-host</span></span></span> <span 
class="cmr-10x-x-109">option specifies the name of the machine with Sedna DBMS running. If not</span>
<span 
class="cmr-10x-x-109">used, default value </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">localhost</span></span></span> <span 
class="cmr-10x-x-109">is used.</span>
<!--l. 775--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-port</span></span></span> <span 
class="cmr-10x-x-109">option specifies the TCP port on which Sedna server is listening to client</span>
<span 
class="cmr-10x-x-109">applications. If omitted, port number 5050 is used by default.</span>
<!--l. 778--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-name</span></span></span> <span 
class="cmr-10x-x-109">and </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-password</span></span></span> <span 
class="cmr-10x-x-109">options specify the user name and the password. If omitted,</span>
<span 
class="cmr-10x-x-109">connects as a predefined user </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">SYSTEM</span></span></span> <span 
class="cmr-10x-x-109">with password </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">MANAGER</span></span></span><span 
class="cmr-10x-x-109">.</span>
<!--l. 782--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">dbname</span></span></span> <span 
class="cmr-10x-x-109">is a required argument. It specifies the name of the database to connect</span>
<span 
class="cmr-10x-x-109">to.</span>
<!--l. 785--><p class="indent" >   <span 
class="cmr-10x-x-109">When </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_term</span></span></span> <span 
class="cmr-10x-x-109">is used in the interactive mode it takes in query/update statements</span>
<span 
class="cmr-10x-x-109">and meta-commands from stdin. To execute a query/update statement type in a</span>
<span 
class="cmr-10x-x-109">statement and use ampersand and line feed to terminate it (</span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">&amp;&#8217;\n&#8217;</span></span></span> <span 
class="cmr-10x-x-109">terminates the</span>
<span 
class="cmr-10x-x-109">query). An end of line does not terminate the query, thus queries can be spread over</span>
<span 
class="cmr-10x-x-109">several lines for clarity. Alternatively, </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_term</span></span></span> <span 
class="cmr-10x-x-109">can be used in a batch mode, then</span>
<span 
class="cmr-10x-x-109">query/update statements and meta-commands are taken from the input file specified by</span>
<span 
class="cmr-10x-x-109">the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-file</span></span></span> <span 
class="cmr-10x-x-109">option. By default, </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_term</span></span></span> <span 
class="cmr-10x-x-109">session is run in the </span><span 
class="cmti-10x-x-109">autocommit mode</span><span 
class="cmr-10x-x-109">, that is,</span>
<span 
class="cmr-10x-x-109">each statement is run in a separate transaction. To switch to a </span><span 
class="cmti-10x-x-109">manual-commit mode</span>
<span 
class="cmr-10x-x-109">use </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">unset</span></span></span> <span 
class="cmr-10x-x-109">meta-command (</span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_term</span></span></span> <span 
class="cmr-10x-x-109">meta-commands are described below in this</span>
                                                                          

                                                                          
<span 
class="cmr-10x-x-109">section). If the statement executed successfully, the results are displayed on the</span>
<span 
class="cmr-10x-x-109">screen.</span>
<!--l. 798--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_term</span></span></span> <span 
class="cmr-10x-x-109">returns 0 to the shell if it finished normally, 1 if a fatal error of its own (out</span>
<span 
class="cmr-10x-x-109">of memory, file not found) occurs, 2 if the connection to the Sedna server went bad and</span>
<span 
class="cmr-10x-x-109">the session is not interactive, and 3 if a statement or a command failed and the variable</span>
<span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">ON_ERROR_STOP</span></span></span> <span 
class="cmr-10x-x-109">was set (</span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_term</span></span></span> <span 
class="cmr-10x-x-109">internal variables are described below in this</span>
<span 
class="cmr-10x-x-109">section).</span>
<!--l. 804--><p class="indent" >   <span 
class="cmr-10x-x-109">Meta-commands are commands for </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_term</span></span></span> <span 
class="cmr-10x-x-109">that processed by the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_term</span></span></span> <span 
class="cmr-10x-x-109">itself. A</span>
<span 
class="cmr-10x-x-109">meta-command begins with a backslash and that differs it from the query/update</span>
<span 
class="cmr-10x-x-109">statements. Thus, the format of </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_term</span></span></span> <span 
class="cmr-10x-x-109">meta-command is the backslash, followed</span>
<span 
class="cmr-10x-x-109">immediately by a command, with no ampersand at the end. </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_term</span></span></span> <span 
class="cmr-10x-x-109">takes in the</span>
<span 
class="cmr-10x-x-109">following meta-commands:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-15">
&#x00A0;\?&#x00A0;-&#x00A0;for&#x00A0;help&#x00A0;on&#x00A0;internal&#x00A0;slash&#x00A0;commands
&#x00A0;<br />&#x00A0;\commit&#x00A0;-&#x00A0;to&#x00A0;commit&#x00A0;transaction
&#x00A0;<br />&#x00A0;\rollback&#x00A0;-&#x00A0;to&#x00A0;rollback&#x00A0;transaction
&#x00A0;<br />&#x00A0;\showtime&#x00A0;-&#x00A0;to&#x00A0;show&#x00A0;the&#x00A0;time&#x00A0;of&#x00A0;the&#x00A0;latest&#x00A0;query&#x00A0;execution
&#x00A0;<br />&#x00A0;\set&#x00A0;-&#x00A0;to&#x00A0;set&#x00A0;the&#x00A0;terminal&#x00A0;internal&#x00A0;variable
&#x00A0;<br />&#x00A0;\unset&#x00A0;-&#x00A0;to&#x00A0;unset&#x00A0;the&#x00A0;terminal&#x00A0;internal&#x00A0;variable
&#x00A0;<br />&#x00A0;\quit,&#x00A0;\q&#x00A0;-&#x00A0;to&#x00A0;close&#x00A0;session&#x00A0;and&#x00A0;quit&#x00A0;the&#x00A0;Sedna&#x00A0;Terminal
</div>
<!--l. 819--><p class="nopar" >
<!--l. 821--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">set</span></span></span> <span 
class="cmr-10x-x-109">and </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">unset</span></span></span> <span 
class="cmr-10x-x-109">meta-commands are used for managing </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_term</span></span></span> <span 
class="cmr-10x-x-109">internal variables.</span>
<span 
class="cmr-10x-x-109">Notice, that there are aliases for some commands. So you can write </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">\ac</span></span></span> <span 
class="cmr-10x-x-109">instead of</span>
<span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">\set</span><span 
class="cmtt-10x-x-109">&#x00A0;AUTOCOMMIT</span></span></span><span 
class="cmr-10x-x-109">. There are following </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_term</span></span></span> <span 
class="cmr-10x-x-109">internal variables:</span>
<!--l. 826--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">AUTOCOMMIT</span><span 
class="cmtt-10x-x-109">&#x00A0;(\ac</span><span 
class="cmtt-10x-x-109">&#x00A0;for</span><span 
class="cmtt-10x-x-109">&#x00A0;set,</span><span 
class="cmtt-10x-x-109">&#x00A0;\nac</span><span 
class="cmtt-10x-x-109">&#x00A0;for</span><span 
class="cmtt-10x-x-109">&#x00A0;unset)</span></span></span> <span 
class="cmr-10x-x-109">- when set, autocommit</span>
<span 
class="cmr-10x-x-109">mode is on. When unset manual-commit mode is on. </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">AUTOCOMMIT</span></span></span> <span 
class="cmr-10x-x-109">is set by</span>
<span 
class="cmr-10x-x-109">default.</span>
<!--l. 829--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">ON_ERROR_STOP</span></span></span> <span 
class="cmr-10x-x-109">- when set, </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_term</span></span></span> <span 
class="cmr-10x-x-109">returns with the code 3 when statement or</span>
<span 
class="cmr-10x-x-109">meta-command fails. When unset </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_term</span></span></span> <span 
class="cmr-10x-x-109">processing continues, unless it is the</span>
<span 
class="cmr-10x-x-109">connection failure.</span>
<!--l. 833--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">DEBUG</span></span></span> <span 
class="cmr-10x-x-109">- when set, session debug mode is on. When unset, session debug mode</span>
<span 
class="cmr-10x-x-109">is off. See &#8221;Debug Facilities&#8221; section of the Sedna Programmer&#8217;s Guide for</span>
<span 
class="cmr-10x-x-109">details.</span>
<!--l. 837--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">TRANSACTION_READ_ONLY</span></span></span> <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">(\ro</span><span 
class="cmtt-10x-x-109">&#x00A0;for</span><span 
class="cmtt-10x-x-109">&#x00A0;set,</span><span 
class="cmtt-10x-x-109">&#x00A0;\upd</span><span 
class="cmtt-10x-x-109">&#x00A0;for</span><span 
class="cmtt-10x-x-109">&#x00A0;unset)</span></span></span> <span 
class="cmr-10x-x-109">- transactions are run</span>
<span 
class="cmr-10x-x-109">as </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">READ-ONLY</span></span></span> <span 
class="cmr-10x-x-109">when set. When unset, transactions are run as </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">UPDATE</span></span></span><span 
class="cmr-10x-x-109">-transactions. By</span>
<span 
class="cmr-10x-x-109">default transactions are run as </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">UPDATE</span></span></span> <span 
class="cmr-10x-x-109">- transactions.</span>
<!--l. 842--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">LOG_LESS_MODE</span><span 
class="cmtt-10x-x-109">&#x00A0;(\ll</span><span 
class="cmtt-10x-x-109">&#x00A0;for</span><span 
class="cmtt-10x-x-109">&#x00A0;set,</span><span 
class="cmtt-10x-x-109">&#x00A0;\fl</span><span 
class="cmtt-10x-x-109">&#x00A0;for</span><span 
class="cmtt-10x-x-109">&#x00A0;unset)</span></span></span> <span 
class="cmr-10x-x-109">- when set, every following</span>
<span 
class="cmr-10x-x-109">bulkload will be less logged and checkpoint will be made on every commit. When unset,</span>
<span 
class="cmr-10x-x-109">every following bulkload will be fully logged. By default transactions are run in full log</span>
<span 
class="cmr-10x-x-109">mode. This option should be used with care (see details about </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">SEDNA_LOG_AMOUNT</span></span></span>
<span 
class="cmr-10x-x-109">connection attribute in &#8220;Sedna Programmer&#8217;s guide&#8221;).</span>
<!--l. 849--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">QUERY_TIMEOUT=&#x003C;time</span><span 
class="cmtt-10x-x-109">&#x00A0;in</span><span 
class="cmtt-10x-x-109">&#x00A0;seconds&#x003E;</span></span></span> <span 
class="cmr-10x-x-109">- when set, every query execution will be</span>
<span 
class="cmr-10x-x-109">dropped on server if it lasts longer than timeout set. By default there is no any timeout</span>
<span 
class="cmr-10x-x-109">set (query is executed as long as needed).</span>
<!--l. 853--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">set?</span></span></span> <span 
class="cmr-10x-x-109">- provides help on </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_term</span></span></span> <span 
class="cmr-10x-x-109">internal variables.</span>
<!--l. 859--><p class="noindent" >
   <div class="subsectionTOCS">
   </div>
   <h4 class="subsectionHead"><span class="titlemark"><span 
class="cmr-10x-x-109">2.5   </span></span> <a 
 id="x1-160002.5"></a><span 
class="cmr-10x-x-109">Backup and Restore</span></h4>
                                                                          

                                                                          
<!--l. 861--><p class="noindent" ><span 
class="cmr-10x-x-109">As any database system that contains valuable data, Sedna databases should be backed</span>
<span 
class="cmr-10x-x-109">up regularly. In this section we present different approaches to back up Sedna data and</span>
<span 
class="cmr-10x-x-109">the process of migration between different Sedna releases.</span>
<!--l. 865--><p class="noindent" >
   <div class="subsubsectionTOCS">
   <span 
class="cmr-10x-x-109">&#x00A0;</span><span 
class="cmr-10x-x-109">&#x00A0;</span><span class="subsubsectionToc" ><span 
class="cmr-10x-x-109">2.5.1 </span><a 
href="#x1-170002.5.1"><span 
class="cmr-10x-x-109">Export/Import Utility</span></a></span>
<br />   <span 
class="cmr-10x-x-109">&#x00A0;</span><span 
class="cmr-10x-x-109">&#x00A0;</span><span class="subsubsectionToc" ><span 
class="cmr-10x-x-109">2.5.2 </span><a 
href="#x1-210002.5.2"><span 
class="cmr-10x-x-109">File system level backup</span></a></span>
<br />   <span 
class="cmr-10x-x-109">&#x00A0;</span><span 
class="cmr-10x-x-109">&#x00A0;</span><span class="subsubsectionToc" ><span 
class="cmr-10x-x-109">2.5.3 </span><a 
href="#x1-220002.5.3"><span 
class="cmr-10x-x-109">Hot Backup</span></a></span>
<br />   <span 
class="cmr-10x-x-109">&#x00A0;</span><span 
class="cmr-10x-x-109">&#x00A0;</span><span class="subsubsectionToc" ><span 
class="cmr-10x-x-109">2.5.4 </span><a 
href="#x1-250002.5.4"><span 
class="cmr-10x-x-109">Migration Between Releases</span></a></span>
   </div>
   <h5 class="subsubsectionHead"><span class="titlemark"><span 
class="cmr-10x-x-109">2.5.1   </span></span> <a 
 id="x1-170002.5.1"></a><span 
class="cmr-10x-x-109">Export/Import Utility</span></h5>
<!--l. 867--><p class="noindent" ><span 
class="cmr-10x-x-109">The purpose of </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_exp</span></span></span> <span 
class="cmr-10x-x-109">utility is to provide functionality of exporting/importing data.</span>
<span 
class="cmr-10x-x-109">The idea behind the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_exp</span></span></span> <span 
class="cmr-10x-x-109">method is to generate a set of XML files and XQuery</span>
<span 
class="cmr-10x-x-109">scripts to restore the database in the same state as it was at the time of the</span>
<span 
class="cmr-10x-x-109">exporting.</span>
<!--l. 872--><p class="indent" >   <span 
class="cmbx-10x-x-109">Important note: </span><span 
class="cmr-10x-x-109">current version of the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_exp</span></span></span> <span 
class="cmr-10x-x-109">utility doesn&#8217;t support</span>
<span 
class="cmr-10x-x-109">exporting/importing triggers, documents with multiple roots and empty documents</span>
<span 
class="cmr-10x-x-109">(empty documents nodes and document nodes with multiple root elements are allowed</span>
<span 
class="cmr-10x-x-109">by XQuery data model but cannot be serialized as is without modifications).</span>
<!--l. 878--><p class="indent" >   <span 
class="cmr-10x-x-109">Note that </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_exp</span></span></span> <span 
class="cmr-10x-x-109">is a regular Sedna client application. This means that you can</span>
<span 
class="cmr-10x-x-109">export data from any remote host that has access to Sedna. The requirement is that</span>
<span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_exp</span></span></span> <span 
class="cmr-10x-x-109">should operate with special permissions. In particular, it must have read access</span>
<span 
class="cmr-10x-x-109">to all documents in the database including system metadata. This means that you</span>
<span 
class="cmr-10x-x-109">should run it as a user which has DBA role.</span>
<!--l. 884--><p class="indent" >   <span 
class="cmr-10x-x-109">The usage of </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_exp</span></span></span> <span 
class="cmr-10x-x-109">utility is:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-16">
se_exp&#x00A0;[options]&#x00A0;command&#x00A0;dbname&#x00A0;path
&#x00A0;<br />options:
&#x00A0;<br />&#x00A0;&#x00A0;-help&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;this&#x00A0;help&#x00A0;and&#x00A0;exit
&#x00A0;<br />&#x00A0;&#x00A0;--help&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;this&#x00A0;help&#x00A0;and&#x00A0;exit
&#x00A0;<br />&#x00A0;&#x00A0;-version&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;product&#x00A0;version&#x00A0;and&#x00A0;exit
&#x00A0;<br />&#x00A0;&#x00A0;-verbose&#x00A0;on/off&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;verbose&#x00A0;output&#x00A0;(default&#x00A0;off)
&#x00A0;<br />&#x00A0;&#x00A0;-host&#x00A0;host&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;hostname&#x00A0;of&#x00A0;the&#x00A0;machine&#x00A0;with&#x00A0;Sedna&#x00A0;running
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(default&#x00A0;localhost)
&#x00A0;<br />&#x00A0;&#x00A0;-port-number&#x00A0;port&#x00A0;&#x00A0;&#x00A0;socket&#x00A0;listening&#x00A0;port&#x00A0;&#x00A0;(default&#x00A0;5050)
&#x00A0;<br />&#x00A0;&#x00A0;-name&#x00A0;name&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;user&#x00A0;name
&#x00A0;<br />&#x00A0;&#x00A0;-pswd&#x00A0;password&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;user&#x00A0;password
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;command&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;export&#x00A0;|&#x00A0;restore&#x00A0;|&#x00A0;import
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;db-name&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;database&#x00A0;name
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;path&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;path&#x00A0;to&#x00A0;exported/imported&#x00A0;data
</div>
<!--l. 902--><p class="nopar" >
<!--l. 904--><p class="indent" >   <span 
class="cmr-10x-x-109">There are three commands to manipulate data with </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_exp</span></span></span><span 
class="cmr-10x-x-109">. They are</span>
<span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">export</span></span></span><span 
class="cmr-10x-x-109">, </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">restore</span></span></span> <span 
class="cmr-10x-x-109">and </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">import</span></span></span><span 
class="cmr-10x-x-109">. Below we describe each of these commands in</span>
<span 
class="cmr-10x-x-109">details.</span>
<!--l. 909--><p class="noindent" >
   <h5 class="likesubsubsectionHead"><a 
 id="x1-180002.5.1"></a><span 
class="cmr-10x-x-109">Export</span></h5>
<!--l. 911--><p class="noindent" ><span 
class="cmr-10x-x-109">The purpose of </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">export</span></span></span> <span 
class="cmr-10x-x-109">command is to export data from specified database. The basic</span>
<span 
class="cmr-10x-x-109">usage of this command is:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-17">
se_exp&#x00A0;export&#x00A0;dbname&#x00A0;path
</div>
<!--l. 916--><p class="nopar" >
<!--l. 918--><p class="indent" >   <span 
class="cmr-10x-x-109">The parameter </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">dbname</span></span></span> <span 
class="cmr-10x-x-109">specifies the database in Sedna to export data from.</span>
<!--l. 920--><p class="indent" >   <span 
class="cmr-10x-x-109">The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">path</span></span></span> <span 
class="cmr-10x-x-109">parameter specifies the directory to store files with exported</span>
<span 
class="cmr-10x-x-109">data.</span>
   <div class="newtheorem">
<!--l. 923--><p class="noindent" ><span class="head">
<span 
class="cmbx-10x-x-109">Note</span><span 
class="cmbx-10x-x-109">&#x00A0;1</span> </span><span 
class="cmti-10x-x-109">If the directory to which </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">path</span></span></span> <span 
class="cmti-10x-x-109">refers contains files that have the same</span>
<span 
class="cmti-10x-x-109">names as the files created by </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_exp</span></span></span> <span 
class="cmti-10x-x-109">they will be replaced.</span>
   </div>
<!--l. 928--><p class="indent" >   <span 
class="cmr-10x-x-109">While export process </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_exp</span></span></span> <span 
class="cmr-10x-x-109">generates a set of XML files and a set of XQuery</span>
<span 
class="cmr-10x-x-109">scripts to recreate the state of database. For each XML document in the database</span>
<span 
class="cmr-10x-x-109">including XML documents in collections </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_exp</span></span></span> <span 
class="cmr-10x-x-109">generates an XML file. Some XML files</span>
<span 
class="cmr-10x-x-109">with system metadata are also generated. Note that the security metadata</span>
<span 
class="cmr-10x-x-109">is exported in insecure way (the file contains unencrypted user names and</span>
<span 
class="cmr-10x-x-109">passwords).</span>
<!--l. 935--><p class="indent" >   <span 
class="cmr-10x-x-109">Exported data created by </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_exp</span></span></span> <span 
class="cmr-10x-x-109">is transaction consistent, that is, updates to the</span>
<span 
class="cmr-10x-x-109">database while </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_exp</span></span></span> <span 
class="cmr-10x-x-109">is running will not be in the exported data.</span>
<!--l. 939--><p class="indent" >   <span 
class="cmr-10x-x-109">To specify which database server </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_exp</span></span></span> <span 
class="cmr-10x-x-109">should contact, use the command line</span>
<span 
class="cmr-10x-x-109">options </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-host</span><span 
class="cmtt-10x-x-109">&#x00A0;host</span></span></span><span 
class="cmr-10x-x-109">. The default host is the local host. As Sedna client application,</span>
<span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_exp</span></span></span> <span 
class="cmr-10x-x-109">requires user name and password to connect to the database. You can either</span>
<span 
class="cmr-10x-x-109">specify them with </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-name</span></span></span> <span 
class="cmr-10x-x-109">and </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-pswd</span></span></span> <span 
class="cmr-10x-x-109">options or type user name and password in the</span>
<span 
class="cmr-10x-x-109">dialog while running </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_exp</span></span></span><span 
class="cmr-10x-x-109">.</span>
<!--l. 947--><p class="noindent" >
   <h5 class="likesubsubsectionHead"><a 
 id="x1-190002.5.1"></a><span 
class="cmr-10x-x-109">Restore</span></h5>
<!--l. 949--><p class="noindent" ><span 
class="cmr-10x-x-109">The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">restore</span></span></span> <span 
class="cmr-10x-x-109">command restores data created by the export command into the empty</span>
<span 
class="cmr-10x-x-109">database. The restore command is intended for migration between different releases of</span>
<span 
class="cmr-10x-x-109">Sedna and for back up of your data in XML format. The basic usage of this command</span>
<span 
class="cmr-10x-x-109">is:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-18">
se_exp&#x00A0;restore&#x00A0;dbname&#x00A0;path
</div>
<!--l. 956--><p class="nopar" >
<!--l. 958--><p class="indent" >   <span 
class="cmr-10x-x-109">The parameter </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">dbname</span></span></span> <span 
class="cmr-10x-x-109">specifies the database in Sedna to restore data into. The</span>
<span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">path</span></span></span> <span 
class="cmr-10x-x-109">parameter specifies the directory with data to restore.</span>
<!--l. 961--><p class="indent" >   <span 
class="cmr-10x-x-109">The database </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">dbname</span></span></span> <span 
class="cmr-10x-x-109">will not be created by this command. It is required that the</span>
<span 
class="cmr-10x-x-109">target database already exist and run before starting the restore process. You must</span>
<span 
class="cmr-10x-x-109">create it yourself with the help of </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_cdb</span></span></span> <span 
class="cmr-10x-x-109">command and start it with </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_sm</span></span></span> <span 
class="cmr-10x-x-109">command.</span>
<span 
class="cmr-10x-x-109">It is also required that the target database is empty, i.e. it doesn&#8217;t contain any data or</span>
<span 
class="cmr-10x-x-109">any users or roles except the default one.</span>
<!--l. 969--><p class="noindent" >
   <h5 class="likesubsubsectionHead"><a 
 id="x1-200002.5.1"></a><span 
class="cmr-10x-x-109">Import</span></h5>
<!--l. 971--><p class="noindent" ><span 
class="cmr-10x-x-109">The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">import</span></span></span> <span 
class="cmr-10x-x-109">command imports data created by the export command into an</span>
<span 
class="cmr-10x-x-109">existing database which may be not empty. The basic usage of this command</span>
<span 
class="cmr-10x-x-109">is:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-19">
se_exp&#x00A0;import&#x00A0;dbname&#x00A0;path
</div>
<!--l. 976--><p class="nopar" >
<!--l. 978--><p class="indent" >   <span 
class="cmr-10x-x-109">The parameter </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">dbname</span></span></span> <span 
class="cmr-10x-x-109">specifies the database in Sedna to import data to. The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">path</span></span></span>
<span 
class="cmr-10x-x-109">parameter specifies the directory with data to import.</span>
<!--l. 981--><p class="indent" >   <span 
class="cmr-10x-x-109">The database </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">dbname</span></span></span> <span 
class="cmr-10x-x-109">will not be created by this command. It is required that the</span>
<span 
class="cmr-10x-x-109">target database already exist and run before starting the import process.</span>
<!--l. 985--><p class="indent" >   <span 
class="cmr-10x-x-109">You can import data into database which contains some data and has some security</span>
<span 
class="cmr-10x-x-109">politics. The only restriction is that there should not be any conflicts in the names of</span>
<span 
class="cmr-10x-x-109">XML documents, collections or indices.</span>
<!--l. 989--><p class="indent" >   <span 
class="cmr-10x-x-109">The main difference between </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">restore</span></span></span> <span 
class="cmr-10x-x-109">and </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">import</span></span></span> <span 
class="cmr-10x-x-109">command is that </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">import</span></span></span>
<span 
class="cmr-10x-x-109">command doesn&#8217;t import any security information. All data is imported by the user who</span>
<span 
class="cmr-10x-x-109">run the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_exp</span></span></span> <span 
class="cmr-10x-x-109">utility, i.e. by the user with the name and password specified with</span>
<span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_exp</span></span></span> <span 
class="cmr-10x-x-109">parameters. Of cause this user should have enough rights to create collections,</span>
<span 
class="cmr-10x-x-109">load documents and create indices.</span>
<!--l. 1001--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark"><span 
class="cmr-10x-x-109">2.5.2   </span></span> <a 
 id="x1-210002.5.2"></a><span 
class="cmr-10x-x-109">File system level backup</span></h5>
<!--l. 1004--><p class="noindent" ><span 
class="cmr-10x-x-109">An alternative strategy to backup a database is to directly copy the directories that</span>
<span 
class="cmr-10x-x-109">Sedna uses to store the data of the database. Read Section </span><a 
href="#x1-40002.1"><span 
class="cmr-10x-x-109">2.1</span><!--tex4ht:ref: sec:dir-structure --></a> <span 
class="cmr-10x-x-109">to find out where Sedna</span>
<span 
class="cmr-10x-x-109">stores databases. You can use whatever method you prefer for doing usual file system</span>
<span 
class="cmr-10x-x-109">backups. To restore a database, copy the corresponding backup directory to the location</span>
<span 
class="cmr-10x-x-109">where Sedna stores databases.</span>
<!--l. 1011--><p class="indent" >   <span 
class="cmr-10x-x-109">There is a requirement is that the target database must be stopped in order to get a</span>
<span 
class="cmr-10x-x-109">usable backup. Half-way measures such as disallowing all connections will not</span>
<span 
class="cmr-10x-x-109">work.</span>
<!--l. 1015--><p class="indent" >   <span 
class="cmr-10x-x-109">Note that a file system backup will not necessarily be smaller than an back up via</span>
<span 
class="cmr-10x-x-109">export. On the contrary, it will most likely be larger.</span>
   <div class="newtheorem">
<!--l. 1018--><p class="noindent" ><span class="head">
<span 
class="cmbx-10x-x-109">Note</span><span 
class="cmbx-10x-x-109">&#x00A0;2</span> </span><span 
class="cmti-10x-x-109">The database directory copied to different machine or different version</span>
<span 
class="cmti-10x-x-109">of the same operating system might not work properly. If you want to restore a</span>
<span 
class="cmti-10x-x-109">database on another machine or OS installation use </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_exp</span></span></span> <span 
class="cmti-10x-x-109">utility instead.</span>
   </div>
                                                                          

                                                                          
<!--l. 1028--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark"><span 
class="cmr-10x-x-109">2.5.3   </span></span> <a 
 id="x1-220002.5.3"></a><span 
class="cmr-10x-x-109">Hot Backup</span></h5>
<!--l. 1030--><p class="noindent" ><span 
class="cmr-10x-x-109">Another alternative is to backup a database while it is still running. Such procedure is</span>
<span 
class="cmr-10x-x-109">called hot backup. The purpose is to create a consistent backup copy while users are</span>
<span 
class="cmr-10x-x-109">still performing some requests. This copy can then be restored by copying corresponding</span>
<span 
class="cmr-10x-x-109">backup directory to the directory where Sedna stores databases. Such hot backups can</span>
<span 
class="cmr-10x-x-109">be done in incremental mode, which allows more efficient archiving of database</span>
<span 
class="cmr-10x-x-109">changes.</span>
<!--l. 1037--><p class="indent" >   <span 
class="cmr-10x-x-109">In a nutshell, when hot backup is called Sedna makes copies of all database</span>
<span 
class="cmr-10x-x-109">files necessary to restore consistent database state in case of failure. The main</span>
<span 
class="cmr-10x-x-109">difference between file system level backup (described in Section </span><a 
href="#x1-210002.5.2"><span 
class="cmr-10x-x-109">2.5.2</span><!--tex4ht:ref: sec:file-system-level-backup --></a><span 
class="cmr-10x-x-109">) and</span>
<span 
class="cmr-10x-x-109">hot backup is that the target database has not to be stopped. As a tradeoff,</span>
<span 
class="cmr-10x-x-109">restoration from hot backup copy may be a slower process, depending on the</span>
<span 
class="cmr-10x-x-109">recency of the copy. Note, that hot backup copy guarantees durability of all</span>
<span 
class="cmr-10x-x-109">transactions that had been committed at the moment of starting hot backup</span>
<span 
class="cmr-10x-x-109">process.</span>
<!--l. 1046--><p class="indent" >   <span 
class="cmr-10x-x-109">To make a hot backup you must use provided </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_hb</span></span></span> <span 
class="cmr-10x-x-109">utility. The usage is as</span>
<span 
class="cmr-10x-x-109">follows:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-20">
Usage:&#x00A0;se_hb&#x00A0;[options]&#x00A0;dbname&#x00A0;path
&#x00A0;<br />
&#x00A0;<br />options:
&#x00A0;<br />&#x00A0;&#x00A0;-help&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;this&#x00A0;help&#x00A0;and&#x00A0;exit
&#x00A0;<br />&#x00A0;&#x00A0;--help&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;display&#x00A0;this&#x00A0;help&#x00A0;and&#x00A0;exit
&#x00A0;<br />&#x00A0;&#x00A0;-checkpoint&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;make&#x00A0;checkpoint&#x00A0;before&#x00A0;backup
&#x00A0;<br />&#x00A0;&#x00A0;-time-dir&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;create&#x00A0;timestamp-subdir
&#x00A0;<br />&#x00A0;&#x00A0;-make-dir&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;create&#x00A0;directory&#x00A0;if&#x00A0;it&#x00A0;doesn&#8217;t&#x00A0;exist
&#x00A0;<br />&#x00A0;&#x00A0;-incr-mode&#x00A0;&#x003C;increment_mode&#x003E;&#x00A0;&#x00A0;increment&#x00A0;mode&#x00A0;(start,&#x00A0;add,&#x00A0;stop)
&#x00A0;<br />&#x00A0;&#x00A0;-port&#x00A0;port-number&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;port&#x00A0;number&#x00A0;to&#x00A0;connect&#x00A0;to&#x00A0;Governor
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;dbname&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;the&#x00A0;name&#x00A0;of&#x00A0;the&#x00A0;database
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;path&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;the&#x00A0;name&#x00A0;of&#x00A0;the&#x00A0;backup&#x00A0;directory
</div>
<!--l. 1064--><p class="nopar" >
<!--l. 1066--><p class="indent" >   <span 
class="cmr-10x-x-109">The parameter </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">dbname</span></span></span> <span 
class="cmr-10x-x-109">specifies the database to backup.</span>
<!--l. 1068--><p class="indent" >   <span 
class="cmr-10x-x-109">The parameter </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">path</span></span></span> <span 
class="cmr-10x-x-109">specifies the directory to store files of the hot backup.</span>
<!--l. 1071--><p class="indent" >   <span 
class="cmr-10x-x-109">You can use </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-checkpoint</span></span></span> <span 
class="cmr-10x-x-109">option to make sure that checkpoint is made before hot</span>
<span 
class="cmr-10x-x-109">backup process is started. This may make restoration process faster, since checkpoint</span>
<span 
class="cmr-10x-x-109">fixates consistent state of the database and this state will be reflected in the hot backup</span>
<span 
class="cmr-10x-x-109">copy. But at the same time backup process may take more time, depending on the user</span>
<span 
class="cmr-10x-x-109">activity at the time of the backup.</span>
<!--l. 1077--><p class="indent" >   <span 
class="cmr-10x-x-109">If you want the destination directory (specified as </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">path</span></span></span> <span 
class="cmr-10x-x-109">in command line) to be</span>
<span 
class="cmr-10x-x-109">created, you must specify </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-make-dir</span></span></span> <span 
class="cmr-10x-x-109">option.</span>
<!--l. 1080--><p class="indent" >   <span 
class="cmr-10x-x-109">Note that </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_hb</span></span></span> <span 
class="cmr-10x-x-109">may overwrite some of the previous backup files if you specify</span>
<span 
class="cmr-10x-x-109">nonempty destination directory. So, if you make two consequent hot backups of the</span>
<span 
class="cmr-10x-x-109">same database in the same directory, the older backup will be lost. </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-time-dir</span></span></span>
<span 
class="cmr-10x-x-109">option prevents this by creating subdirectory named with the current date-time</span>
<span 
class="cmr-10x-x-109">within </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">path</span></span></span> <span 
class="cmr-10x-x-109">directory. In this case the destination of hot backup copy will be:</span>
<span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">&#x003C;path&#x003E;/backup-&#x003C;dbname&#x003E;-&#x003C;current</span><span 
class="cmtt-10x-x-109">&#x00A0;date&#x003E;-&#x003C;current</span><span 
class="cmtt-10x-x-109">&#x00A0;time&#x003E;/</span></span></span><span 
class="cmr-10x-x-109">. It is recommended</span>
<span 
class="cmr-10x-x-109">that you use the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-time-dir</span></span></span> <span 
class="cmr-10x-x-109">option or provide a directory free of the previous</span>
<span 
class="cmr-10x-x-109">backups.</span>
<!--l. 1090--><p class="indent" >   <span 
class="cmr-10x-x-109">You can specify port number to connect to governor through </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-port</span></span></span> <span 
class="cmr-10x-x-109">option. If</span>
<span 
class="cmr-10x-x-109">port number is not specified in command line, hot backup process tries to</span>
<span 
class="cmr-10x-x-109">find </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">sednaconf.xml</span></span></span> <span 
class="cmr-10x-x-109">file and use port number specified as </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">listener_port</span></span></span>
<span 
class="cmr-10x-x-109">parameter. If it still cannot find port number, it will try to use default 5050</span>
<span 
class="cmr-10x-x-109">value.</span>
   <div class="newtheorem">
<!--l. 1096--><p class="noindent" ><span class="head">
                                                                          

                                                                          
<span 
class="cmbx-10x-x-109">Note</span><span 
class="cmbx-10x-x-109">&#x00A0;3</span> </span><span 
class="cmti-10x-x-109">You must run </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_hb</span></span></span> <span 
class="cmti-10x-x-109">utility on the same machine as the target database</span>
<span 
class="cmti-10x-x-109">is running. It will try to connect to the target database through the specified port</span>
<span 
class="cmti-10x-x-109">to the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">localhost</span></span></span><span 
class="cmti-10x-x-109">.</span>
   </div>
<!--l. 1102--><p class="indent" >   <span 
class="cmr-10x-x-109">Incremental hot backup and corresponding </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-incr-mode</span></span></span> <span 
class="cmr-10x-x-109">option will be explained</span>
<span 
class="cmr-10x-x-109">below.</span>
<!--l. 1106--><p class="noindent" >
   <h5 class="likesubsubsectionHead"><a 
 id="x1-230002.5.3"></a><span 
class="cmr-10x-x-109">Incremental Hot Backup</span></h5>
<!--l. 1108--><p class="noindent" ><span 
class="cmr-10x-x-109">Let us assume that you have made hot backup using command like this</span>
<span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_hb</span><span 
class="cmtt-10x-x-109">&#x00A0;mydb</span><span 
class="cmtt-10x-x-109">&#x00A0;/backup</span></span></span><span 
class="cmr-10x-x-109">. If later you want to make another one to be sure updated data</span>
<span 
class="cmr-10x-x-109">will be reflected in the backup copy, you can issue the same command. However, if the</span>
<span 
class="cmr-10x-x-109">amount of changes is small, it is desirable to copy only this changes without making</span>
<span 
class="cmr-10x-x-109">copy of the entire database again. This is where incremental mode becomes</span>
<span 
class="cmr-10x-x-109">useful.</span>
<!--l. 1115--><p class="indent" >   <span 
class="cmr-10x-x-109">First of all, you must create a primary copy, which is essentially the copy of the</span>
<span 
class="cmr-10x-x-109">entire database. You can do it by specifying </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-incr-mode</span><span 
class="cmtt-10x-x-109">&#x00A0;start</span></span></span> <span 
class="cmr-10x-x-109">in command line (for</span>
<span 
class="cmr-10x-x-109">example, </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_hb</span><span 
class="cmtt-10x-x-109">&#x00A0;-incr-mode</span><span 
class="cmtt-10x-x-109">&#x00A0;start</span><span 
class="cmtt-10x-x-109">&#x00A0;mydb</span><span 
class="cmtt-10x-x-109">&#x00A0;/backup</span></span></span><span 
class="cmr-10x-x-109">). Then, when you need to make</span>
<span 
class="cmr-10x-x-109">subsequent hot backups of the same database, you can specify </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-incr-mode</span><span 
class="cmtt-10x-x-109">&#x00A0;add</span></span></span> <span 
class="cmr-10x-x-109">in</span>
<span 
class="cmr-10x-x-109">command line (for example, </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_hb</span><span 
class="cmtt-10x-x-109">&#x00A0;-incr-mode</span><span 
class="cmtt-10x-x-109">&#x00A0;add</span><span 
class="cmtt-10x-x-109">&#x00A0;mydb</span><span 
class="cmtt-10x-x-109">&#x00A0;/backup</span></span></span><span 
class="cmr-10x-x-109">). If the amount of</span>
<span 
class="cmr-10x-x-109">changes is small, such backup process will take much less time.</span>
<!--l. 1123--><p class="indent" >   <span 
class="cmr-10x-x-109">Note, however, that when you use </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-incr-mode</span><span 
class="cmtt-10x-x-109">&#x00A0;start</span></span></span> <span 
class="cmr-10x-x-109">option it will switch the</span>
<span 
class="cmr-10x-x-109">original (active) database in incremental mode. This means it will start to store more</span>
<span 
class="cmr-10x-x-109">files to allow &#8220;</span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-incr-mode</span><span 
class="cmtt-10x-x-109">&#x00A0;add</span></span></span><span 
class="cmr-10x-x-109">&#8221; backups. In this case original database can grow in</span>
<span 
class="cmr-10x-x-109">size more rapidly in case it is updated. To switch off incremental mode you</span>
<span 
class="cmr-10x-x-109">must specify </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-incr-mode</span><span 
class="cmtt-10x-x-109">&#x00A0;stop</span></span></span> <span 
class="cmr-10x-x-109">in command line. This command allows the</span>
<span 
class="cmr-10x-x-109">original database to drop unnecessary files, but it also makes &#8220;</span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-incr-mode</span><span 
class="cmtt-10x-x-109">&#x00A0;add</span></span></span><span 
class="cmr-10x-x-109">&#8221;</span>
<span 
class="cmr-10x-x-109">option impossible. Thus, to start another incremental backup process you must</span>
<span 
class="cmr-10x-x-109">repeat the whole process all over again (</span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-incr-mode</span><span 
class="cmtt-10x-x-109">&#x00A0;start</span></span></span> <span 
class="cmr-10x-x-109">call and additional</span>
<span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-incr-mode</span><span 
class="cmtt-10x-x-109">&#x00A0;add</span></span></span> <span 
class="cmr-10x-x-109">calls when needed). Note that </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_hb</span></span></span> <span 
class="cmr-10x-x-109">with </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-incr-mode</span><span 
class="cmtt-10x-x-109">&#x00A0;stop</span></span></span> <span 
class="cmr-10x-x-109">option</span>
<span 
class="cmr-10x-x-109">does not make any additional hot backup copies, it just switches off incremental</span>
<span 
class="cmr-10x-x-109">mode.</span>
   <div class="newtheorem">
<!--l. 1135--><p class="noindent" ><span class="head">
<span 
class="cmbx-10x-x-109">Note</span><span 
class="cmbx-10x-x-109">&#x00A0;4</span> </span><span 
class="cmti-10x-x-109">The database switches off incremental mode when new nonincremental</span>
<span 
class="cmti-10x-x-109">(without  </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-incr-mode</span></span></span> <span 
class="cmti-10x-x-109">option)  hot  backup  is  created.  This  is  similar  to  the</span>
<span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-incr-mode</span><span 
class="cmtt-10x-x-109">&#x00A0;stop</span></span></span> <span 
class="cmti-10x-x-109">option, only in this case hot backup copy of the entire database</span>
<span 
class="cmti-10x-x-109">is created.</span>
                                                                          

                                                                          
   </div>
<!--l. 1142--><p class="indent" >   <span 
class="cmr-10x-x-109">If you make new primary copy (i.e. with the </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-incr-mode</span></span></span> <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">start</span></span></span> <span 
class="cmr-10x-x-109">option specified)</span>
<span 
class="cmr-10x-x-109">while database is still in incremental mode, </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-incr-mode</span><span 
class="cmtt-10x-x-109">&#x00A0;add</span></span></span> <span 
class="cmr-10x-x-109">option will archive</span>
<span 
class="cmr-10x-x-109">increments valid only for this last primary copy. It is recommended that you</span>
<span 
class="cmr-10x-x-109">periodically make new primary copy with </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-incr-mode</span><span 
class="cmtt-10x-x-109">&#x00A0;start</span></span></span> <span 
class="cmr-10x-x-109">option. Unless, of course,</span>
<span 
class="cmr-10x-x-109">the database is rarely updated.</span>
<!--l. 1149--><p class="indent" >   <span 
class="cmr-10x-x-109">With incremental hot backup you have two options: you can archive all backups in</span>
<span 
class="cmr-10x-x-109">the same directory or in different directories. If you archive all backups in the same</span>
<span 
class="cmr-10x-x-109">directory (as in </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">/backup</span></span></span> <span 
class="cmr-10x-x-109">in our example above) you can restore only state corresponding</span>
<span 
class="cmr-10x-x-109">to the last incremental backup. On the other hand, storing incremental backups in</span>
<span 
class="cmr-10x-x-109">different directories makes possible some kind of point-in-time recovery, i.e. you can</span>
<span 
class="cmr-10x-x-109">restore state corresponding to any of the incremental backups. For the details see the</span>
<span 
class="cmr-10x-x-109">next section.</span>
<!--l. 1157--><p class="noindent" >
   <h5 class="likesubsubsectionHead"><a 
 id="x1-240002.5.3"></a><span 
class="cmr-10x-x-109">Restore from Hot Backup Copy</span></h5>
   <div class="newtheorem">
<!--l. 1159--><p class="noindent" ><span class="head">
<span 
class="cmbx-10x-x-109">Note</span><span 
class="cmbx-10x-x-109">&#x00A0;5</span> </span><span 
class="cmti-10x-x-109">Since hot backup is made on file system level basis, the same note as</span>
<span 
class="cmti-10x-x-109">in the &#8220;File system level backup&#8221; section applies here too, i.e. recovery of the hot</span>
<span 
class="cmti-10x-x-109">backup copy on different machine or different version of the same operating system</span>
<span 
class="cmti-10x-x-109">cannot be guaranteed.</span>
   </div>
   <div class="newtheorem">
<!--l. 1166--><p class="noindent" ><span class="head">
<span 
class="cmbx-10x-x-109">Note</span><span 
class="cmbx-10x-x-109">&#x00A0;6</span> </span><span 
class="cmti-10x-x-109">Recovery  of  hot  backup  copy  on  different  release  of  Sedna  cannot  be</span>
<span 
class="cmti-10x-x-109">guaranteed. See Section </span><a 
href="#x1-250002.5.4"><span 
class="cmti-10x-x-109">2.5.4</span><!--tex4ht:ref: sec:release-migr --></a> <span 
class="cmti-10x-x-109">for further details.</span>
   </div>
<!--l. 1171--><p class="noindent" ><span 
class="cmr-10x-x-109">To restore the backed up database you must copy saved files to the directory</span>
<span 
class="cmr-10x-x-109">where Sedna stores database files. For the information about Sedna directory</span>
<span 
class="cmr-10x-x-109">structure read Section </span><a 
href="#x1-40002.1"><span 
class="cmr-10x-x-109">2.1</span><!--tex4ht:ref: sec:dir-structure --></a><span 
class="cmr-10x-x-109">. For example, let us assume that hot backup have</span>
<span 
class="cmr-10x-x-109">been made in </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">/backup</span></span></span> <span 
class="cmr-10x-x-109">directory, and Sedna stores its files in </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">SEDNA_INSTALL</span></span></span>
<span 
class="cmr-10x-x-109">directory. In this case you can find </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">cfg</span></span></span> <span 
class="cmr-10x-x-109">and </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">data</span></span></span> <span 
class="cmr-10x-x-109">subdirectories in </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">/backup</span></span></span>
<span 
class="cmr-10x-x-109">directory. To restore database you must copy this directories in </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">SEDNA_INSTALL</span></span></span>
<span 
class="cmr-10x-x-109">directory. Note, that you should remove </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">SEDNA_INSTALL/data/&#x003C;dbname&#x003E;_files/</span></span></span>
<span 
class="cmr-10x-x-109">(where </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">&#x003C;dbname&#x003E;</span></span></span> <span 
class="cmr-10x-x-109">is the name of the backed up database) directory before</span>
<span 
class="cmr-10x-x-109">you copy backup files, since old files may interfere with restoration process.</span>
                                                                          

                                                                          
<span 
class="cmr-10x-x-109">After you copy backup files in the corresponding directories, you can use </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_sm</span></span></span>
<span 
class="cmr-10x-x-109">command to start the database. When you do it for the first time SM runs</span>
<span 
class="cmr-10x-x-109">recovery process to restore database state corresponding to the moment hot</span>
<span 
class="cmr-10x-x-109">backup took place. It can take some time depending on the recency of the</span>
<span 
class="cmr-10x-x-109">copy.</span>
<!--l. 1186--><p class="indent" >   <span 
class="cmr-10x-x-109">For the incremental backed up database the process may be different. If you have</span>
<span 
class="cmr-10x-x-109">made all backups (primary copy and additional &#8220;</span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-incr-mode</span><span 
class="cmtt-10x-x-109">&#x00A0;add</span></span></span><span 
class="cmr-10x-x-109">&#8221; copies) in the same</span>
<span 
class="cmr-10x-x-109">directory the process is the same. However, if you have some of the &#8220;</span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-incr-mode</span><span 
class="cmtt-10x-x-109">&#x00A0;add</span></span></span><span 
class="cmr-10x-x-109">&#8221;</span>
<span 
class="cmr-10x-x-109">copies in the different directories you must copy files from all this directories in order</span>
<span 
class="cmr-10x-x-109">corresponding hot backups were taken to fully restore database state. This makes</span>
<span 
class="cmr-10x-x-109">possible restoration of older state of the database. For example, let us assume that</span>
<span 
class="cmr-10x-x-109">primary copy is stored in </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">/backup/p</span></span></span> <span 
class="cmr-10x-x-109">directory and additional </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-incr-mode</span><span 
class="cmtt-10x-x-109">&#x00A0;add</span></span></span> <span 
class="cmr-10x-x-109">copies</span>
<span 
class="cmr-10x-x-109">are stored in </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">/backup/1</span></span></span> <span 
class="cmr-10x-x-109">and </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">/backup/2</span></span></span> <span 
class="cmr-10x-x-109">directories in the order of creation.</span>
<span 
class="cmr-10x-x-109">Then you can restore database to the state corresponding to any of the hot</span>
<span 
class="cmr-10x-x-109">backups by copying only those directories that you need. For example, by</span>
<span 
class="cmr-10x-x-109">copying </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">/backup/p</span><span 
class="cmtt-10x-x-109">&#x00A0;and</span><span 
class="cmtt-10x-x-109">&#x00A0;</span></span></span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">/backup/1</span></span></span> <span 
class="cmr-10x-x-109">directories you can restore database state</span>
<span 
class="cmr-10x-x-109">corresponding to the moment when </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-incr-mode</span><span 
class="cmtt-10x-x-109">&#x00A0;add</span><span 
class="cmtt-10x-x-109">&#x00A0;/backup/1</span></span></span> <span 
class="cmr-10x-x-109">was made. Of</span>
<span 
class="cmr-10x-x-109">course, you cannot &#8220;skip&#8221; directories. For example, copying only </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">/backup/p</span></span></span>
<span 
class="cmr-10x-x-109">and </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">/backup/2</span></span></span> <span 
class="cmr-10x-x-109">would not be possible, since in this case </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">/backup/1</span></span></span> <span 
class="cmr-10x-x-109">is also</span>
<span 
class="cmr-10x-x-109">needed.</span>
<!--l. 1206--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark"><span 
class="cmr-10x-x-109">2.5.4   </span></span> <a 
 id="x1-250002.5.4"></a><span 
class="cmr-10x-x-109">Migration Between Releases</span></h5>
<!--l. 1209--><p class="noindent" ><span 
class="cmr-10x-x-109">In this section we discuss how to migrate your data from one release of Sedna to</span>
<span 
class="cmr-10x-x-109">another. As the internal data storage format is subject to change between</span>
<span 
class="cmr-10x-x-109">different releases of Sedna it is a frequently required task to accurately migrate</span>
<span 
class="cmr-10x-x-109">data.</span>
<!--l. 1214--><p class="indent" >   <span 
class="cmr-10x-x-109">It is recommended that you use </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_exp</span></span></span> <span 
class="cmr-10x-x-109">utility to pass through this problem. The</span>
<span 
class="cmr-10x-x-109">process consists of four steps.</span>
<!--l. 1217--><p class="indent" >
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x1-25002x1"><span 
class="cmr-10x-x-109">Run </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_exp</span></span></span> <span 
class="cmr-10x-x-109">utility with </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">export</span></span></span> <span 
class="cmr-10x-x-109">command to export your data to some</span>
      <span 
class="cmr-10x-x-109">directory on the filesystem.</span>
      </li>
      <li 
  class="enumerate" id="x1-25004x2"><span 
class="cmr-10x-x-109">Shut down the old version of Sedna database server and remove it from your</span>
      <span 
class="cmr-10x-x-109">system.</span>
      </li>
      <li 
  class="enumerate" id="x1-25006x3"><span 
class="cmr-10x-x-109">Install and run a new version of Sedna, create the database with </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_cdb</span></span></span> <span 
class="cmr-10x-x-109">and</span>
      <span 
class="cmr-10x-x-109">start it with </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_sm</span></span></span><span 
class="cmr-10x-x-109">. Make sure that no transaction has been run with the</span>
      <span 
class="cmr-10x-x-109">new database before restoring the data.</span>
                                                                          

                                                                          
      </li>
      <li 
  class="enumerate" id="x1-25008x4"><span 
class="cmr-10x-x-109">Run </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_exp</span></span></span> <span 
class="cmr-10x-x-109">utility with </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">restore</span></span></span> <span 
class="cmr-10x-x-109">command to restore data into the new</span>
      <span 
class="cmr-10x-x-109">database.</span></li></ol>
<!--l. 1232--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark"><span 
class="cmr-10x-x-109">2.6   </span></span> <a 
 id="x1-260002.6"></a><span 
class="cmr-10x-x-109">Event Log</span></h4>
<!--l. 1235--><p class="noindent" ><span 
class="cmr-10x-x-109">Sedna keeps track of all important events that happen during its functioning. This</span>
<span 
class="cmr-10x-x-109">section describes where log files are located and how to configure Sedna logging</span>
<span 
class="cmr-10x-x-109">capabilities.</span>
<!--l. 1239--><p class="noindent" >
   <div class="subsubsectionTOCS">
   <span 
class="cmr-10x-x-109">&#x00A0;</span><span 
class="cmr-10x-x-109">&#x00A0;</span><span class="subsubsectionToc" ><span 
class="cmr-10x-x-109">2.6.1 </span><a 
href="#x1-270002.6.1"><span 
class="cmr-10x-x-109">Files</span></a></span>
<br />   <span 
class="cmr-10x-x-109">&#x00A0;</span><span 
class="cmr-10x-x-109">&#x00A0;</span><span class="subsubsectionToc" ><span 
class="cmr-10x-x-109">2.6.2 </span><a 
href="#x1-280002.6.2"><span 
class="cmr-10x-x-109">Severity Level Configuration</span></a></span>
   </div>
   <h5 class="subsubsectionHead"><span class="titlemark"><span 
class="cmr-10x-x-109">2.6.1   </span></span> <a 
 id="x1-270002.6.1"></a><span 
class="cmr-10x-x-109">Files</span></h5>
<!--l. 1240--><p class="noindent" ><span 
class="cmr-10x-x-109">Log files are located in the same folder where Sedna stores databases (see section </span><a 
href="#x1-40002.1"><span 
class="cmr-10x-x-109">2.1</span><!--tex4ht:ref: sec:dir-structure --></a><span 
class="cmr-10x-x-109">,</span>
<span 
class="cmr-10x-x-109">Sedna Directory Structure). By default it means that you can find event log files in</span>
<span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">SEDNA_INSTALL/data</span></span></span><span 
class="cmr-10x-x-109">. Latest log file is named </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">event.log</span></span></span><span 
class="cmr-10x-x-109">. Sedna also stores old event</span>
<span 
class="cmr-10x-x-109">log files which are named </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">event-{data}.log</span></span></span><span 
class="cmr-10x-x-109">.</span>
<!--l. 1246--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark"><span 
class="cmr-10x-x-109">2.6.2   </span></span> <a 
 id="x1-280002.6.2"></a><span 
class="cmr-10x-x-109">Severity Level Configuration</span></h5>
<!--l. 1247--><p class="noindent" ><span 
class="cmr-10x-x-109">Sedna provides a flexible way to set severity level of the logging output. It can be done</span>
<span 
class="cmr-10x-x-109">either through </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_gov</span></span></span> <span 
class="cmr-10x-x-109">command line parameter:</span>
   <div class="alltt">
<!--l. 1250--><p class="noindent" ><div class="obeylines-v">
<span 
class="cmtt-10x-x-109">se_gov</span><span 
class="cmtt-10x-x-109">&#x00A0;-el-level</span><span 
class="cmtt-10x-x-109">&#x00A0;</span><span 
class="cmitt-10x-x-109">number</span>
</div>
</div>
<!--l. 1254--><p class="indent" >   <span 
class="cmr-10x-x-109">or defined in </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">sednaconf.xml</span></span></span> <span 
class="cmr-10x-x-109">(see section </span><a 
href="#x1-80002.2.3"><span 
class="cmr-10x-x-109">2.2.3</span><!--tex4ht:ref: sec:ConfigSedna --></a><span 
class="cmr-10x-x-109">, Configuring Sedna):</span>
   <div class="alltt">
<!--l. 1257--><p class="noindent" ><div class="obeylines-v">
<span 
class="cmtt-10x-x-109">&#x003C;event_log_level&#x003E;</span><span 
class="cmitt-10x-x-109">number</span><span 
class="cmtt-10x-x-109">&#x003C;/event_log_level&#x003E;</span>
                                                                          

                                                                          
</div>
</div>
<!--l. 1261--><p class="indent" >   <span 
class="cmr-10x-x-109">The following severity levels are available: </span><br 
class="newline" /><!--tex4ht:inline--><div class="tabular"> <table id="TBL-2" class="tabular" 
cellspacing="0" cellpadding="0" rules="groups" 
><colgroup id="TBL-2-1g"><col 
id="TBL-2-1"></colgroup><colgroup id="TBL-2-2g"><col 
id="TBL-2-2"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-1-1"  
class="td11"><span 
class="cmr-10x-x-109">Level</span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-1-2"  
class="td11"><span 
class="cmr-10x-x-109">Description                                                                        </span></td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-2-1"  
class="td11"><span 
class="cmr-10x-x-109">0      </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-2-2"  
class="td11"><span 
class="cmr-10x-x-109">Event logging off.                                                                </span></td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-3-1"  
class="td11"><span 
class="cmr-10x-x-109">1      </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-3-2"  
class="td11"><span 
class="cmr-10x-x-109">Logs fatal errors that caused all database sessions to abort.         </span></td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-4-1"  
class="td11"><span 
class="cmr-10x-x-109">2      </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-4-2"  
class="td11"><span 
class="cmr-10x-x-109">Logs all errors and warnings.                                                 </span></td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-5-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-5-1"  
class="td11"><span 
class="cmr-10x-x-109">3      </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-5-2"  
class="td11"><span 
class="cmr-10x-x-109">Logs detailed information (queries, IO statistics, etc).                </span></td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-6-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-6-1"  
class="td11"><span 
class="cmr-10x-x-109">4      </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-6-2"  
class="td11"><span 
class="cmr-10x-x-109">Logs successively-more-detailed information for use by developers.</span></td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-7-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-7-1"  
class="td11">     </td></tr></table></div>
<!--l. 1284--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark"><span 
class="cmr-10x-x-109">2.7   </span></span> <a 
 id="x1-290002.7"></a><span 
class="cmr-10x-x-109">The Examples of Using Command Line Utilities</span></h4>
<!--l. 1286--><p class="noindent" ><span 
class="cmr-10x-x-109">In this section we present several examples of using the utilities described in the</span>
<span 
class="cmr-10x-x-109">previous sections. These examples demonstrate how to create the database, run the</span>
<span 
class="cmr-10x-x-109">Sedna server and the database, load documents into the database, run the query over</span>
<span 
class="cmr-10x-x-109">the database, and finally stop Sedna.</span>
<!--l. 1291--><p class="indent" >   <span 
class="cmr-10x-x-109">To run Sedna, type the following command:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-21">
se_gov
</div>
<!--l. 1295--><p class="nopar" >
<!--l. 1297--><p class="indent" >   <span 
class="cmr-10x-x-109">For creating a database named </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">xmark</span></span></span> <span 
class="cmr-10x-x-109">with default settings use the following</span>
<span 
class="cmr-10x-x-109">command:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-22">
se_cdb&#x00A0;xmark
</div>
<!--l. 1302--><p class="nopar" >
<!--l. 1304--><p class="indent" >   <span 
class="cmr-10x-x-109">After execution of these commands the created database can be started up. To do it,</span>
<span 
class="cmr-10x-x-109">type the following command:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-23">
se_sm&#x00A0;xmark
</div>
<!--l. 1309--><p class="nopar" >
<!--l. 1311--><p class="indent" >   <span 
class="cmr-10x-x-109">The </span><span 
class="cmti-10x-x-109">xmark </span><span 
class="cmr-10x-x-109">database is ready for serving user queries. Below we show how to load an</span>
<span 
class="cmr-10x-x-109">XML document to the xmark database and how to write a queries over this</span>
<span 
class="cmr-10x-x-109">document.</span>
<!--l. 1315--><p class="indent" >   <span 
class="cmr-10x-x-109">To load the XML document into the </span><span 
class="cmti-10x-x-109">xmark </span><span 
class="cmr-10x-x-109">database, pass the following</span>
<span 
class="cmr-10x-x-109">steps:</span>
<!--l. 1318--><p class="indent" >
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x1-29002x1"><span 
class="cmr-10x-x-109">Create the following file with name </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">load.xquery</span></span></span><span 
class="cmr-10x-x-109">:</span>
                                                                          

                                                                          
      <div class="verbatim" id="verbatim-24">
      LOAD&#x00A0;"&#x003C;path&#x003E;"&#x00A0;"&#x003C;name&#x003E;"
</div>
      <!--l. 1323--><p class="nopar" >
      <!--l. 1325--><p class="noindent" ><span 
class="cmr-10x-x-109">The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">&#x003C;path&#x003E;</span></span></span> <span 
class="cmr-10x-x-109">is the path to the XML document to be loaded to the </span><span 
class="cmti-10x-x-109">xmark</span>
      <span 
class="cmr-10x-x-109">database. The </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">&#x003C;name&#x003E;</span></span></span> <span 
class="cmr-10x-x-109">is the name of this document in the </span><span 
class="cmti-10x-x-109">xmark </span><span 
class="cmr-10x-x-109">database.</span>
      </li>
      <li 
  class="enumerate" id="x1-29004x2"><span 
class="cmr-10x-x-109">Run the command:</span>
                                                                          

                                                                          
      <div class="verbatim" id="verbatim-25">
      se_term&#x00A0;-file&#x00A0;load.xquery&#x00A0;xmark
</div>
      <!--l. 1333--><p class="nopar" >
      </li>
      <li 
  class="enumerate" id="x1-29006x3"><span 
class="cmr-10x-x-109">Create the following file with name </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">query1.xquery</span></span></span><span 
class="cmr-10x-x-109">:</span>
                                                                          

                                                                          
      <div class="verbatim" id="verbatim-26">
      doc("&#x003C;name&#x003E;")/*
</div>
      <!--l. 1339--><p class="nopar" >
      <!--l. 1341--><p class="noindent" ><span 
class="cmr-10x-x-109">Where </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">&#x003C;name&#x003E;</span></span></span> <span 
class="cmr-10x-x-109">is the name of the loaded document in the xmark database.</span>
      </li>
      <li 
  class="enumerate" id="x1-29008x4"><span 
class="cmr-10x-x-109">Type the command and enter it:</span>
                                                                          

                                                                          
      <div class="verbatim" id="verbatim-27">
      se_term&#x00A0;-file&#x00A0;query1.xquery&#x00A0;xmark
</div>
      <!--l. 1347--><p class="nopar" ></li></ol>
<!--l. 1350--><p class="indent" >   <span 
class="cmr-10x-x-109">To stop Sedna and all its components and databases, type and enter the following</span>
<span 
class="cmr-10x-x-109">command:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-28">
se_stop
</div>
<!--l. 1355--><p class="nopar" >
<!--l. 1360--><p class="noindent" >
   <div class="sectionTOCS">
   </div>
   <h3 class="sectionHead"><span class="titlemark"><span 
class="cmr-10x-x-109">3   </span></span> <a 
 id="x1-300003"></a><span 
class="cmr-10x-x-109">User-Based Authorization System</span></h3>
<!--l. 1362--><p class="noindent" ><span 
class="cmr-10x-x-109">This chapter describes how to create and manage users and introduces the privilege</span>
<span 
class="cmr-10x-x-109">system.</span>
<!--l. 1365--><p class="indent" >   <span 
class="cmr-10x-x-109">When created with </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-db-security</span><span 
class="cmtt-10x-x-109">&#x00A0;authorization</span></span></span> <span 
class="cmr-10x-x-109">option, a database contains a set</span>
<span 
class="cmr-10x-x-109">of database users. Those users are separate from the users managed by the operating</span>
<span 
class="cmr-10x-x-109">system on which Sedna runs. The primary function of the Sedna privilege</span>
<span 
class="cmr-10x-x-109">system is to authenticate a user and to associate that user with privileges on a</span>
<span 
class="cmr-10x-x-109">database object such as </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">DROP</span></span></span><span 
class="cmr-10x-x-109">, </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">CREATE</span></span></span> <span 
class="cmr-10x-x-109">or </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">QUERY</span></span></span><span 
class="cmr-10x-x-109">. Users own database objects</span>
<span 
class="cmr-10x-x-109">(for examples, document) and can assign privileges on those objects to other</span>
<span 
class="cmr-10x-x-109">users.</span>
<!--l. 1377--><p class="noindent" >
   <div class="subsectionTOCS">
   <span 
class="cmr-10x-x-109">&#x00A0;</span><span class="subsectionToc" ><span 
class="cmr-10x-x-109">3.1 </span><a 
href="#x1-310003.1"><span 
class="cmr-10x-x-109">Database Users</span></a></span>
<br />   <span 
class="cmr-10x-x-109">&#x00A0;</span><span class="subsectionToc" ><span 
class="cmr-10x-x-109">3.2 </span><a 
href="#x1-320003.2"><span 
class="cmr-10x-x-109">Privileges and Roles</span></a></span>
<br />   <span 
class="cmr-10x-x-109">&#x00A0;</span><span class="subsectionToc" ><span 
class="cmr-10x-x-109">3.3 </span><a 
href="#x1-330003.3"><span 
class="cmr-10x-x-109">Granting privileges</span></a></span>
<br />   <span 
class="cmr-10x-x-109">&#x00A0;</span><span class="subsectionToc" ><span 
class="cmr-10x-x-109">3.4 </span><a 
href="#x1-340003.4"><span 
class="cmr-10x-x-109">Revoking privileges</span></a></span>
<br />   <span 
class="cmr-10x-x-109">&#x00A0;</span><span class="subsectionToc" ><span 
class="cmr-10x-x-109">3.5 </span><a 
href="#x1-350003.5"><span 
class="cmr-10x-x-109">Client Authentication</span></a></span>
   </div>
   <h4 class="subsectionHead"><span class="titlemark"><span 
class="cmr-10x-x-109">3.1   </span></span> <a 
 id="x1-310003.1"></a><span 
class="cmr-10x-x-109">Database Users</span></h4>
<!--l. 1379--><p class="noindent" ><span 
class="cmr-10x-x-109">Database user names are global across a database (and not per all Sedna databases).</span>
<span 
class="cmti-10x-x-109">Database users </span><span 
class="cmr-10x-x-109">interact with </span><span 
class="cmti-10x-x-109">database objects</span><span 
class="cmr-10x-x-109">. Every database object has its </span><span 
class="cmti-10x-x-109">owner </span><span 
class="cmr-10x-x-109">- the</span>
<span 
class="cmr-10x-x-109">user that created it. Every user and </span><span 
class="cmti-10x-x-109">role </span><span 
class="cmr-10x-x-109">(we will discuss roles in the Section </span><a 
href="#x1-320003.2"><span 
class="cmr-10x-x-109">3.2</span><!--tex4ht:ref: roles --></a><span 
class="cmr-10x-x-109">) has its</span>
<span 
class="cmti-10x-x-109">creator</span><span 
class="cmr-10x-x-109">.</span>
<!--l. 1385--><p class="indent" >   <span 
class="cmr-10x-x-109">In order to bootstrap the database, a freshly created database always contains one</span>
<span 
class="cmr-10x-x-109">predefined DBA user with name </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">"SYSTEM"</span></span></span> <span 
class="cmr-10x-x-109">and password </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">"MANAGER"</span></span></span><span 
class="cmr-10x-x-109">. To start your work</span>
<span 
class="cmr-10x-x-109">with the database, you first have to connect as this initial user, then you can create</span>
<span 
class="cmr-10x-x-109">more users and change default password (if you care for preventing unauthorized access</span>
<span 
class="cmr-10x-x-109">to your database).</span>
                                                                          

                                                                          
<!--l. 1391--><p class="indent" >   <span 
class="cmr-10x-x-109">There are following kinds of Sedna database objects:</span>
      <ul class="itemize1">
      <li class="itemize"><span 
class="cmr-10x-x-109">Standalone document</span>
      </li>
      <li class="itemize"><span 
class="cmr-10x-x-109">Collection of documents</span>
      </li>
      <li class="itemize"><span 
class="cmr-10x-x-109">Value based index</span>
      </li>
      <li class="itemize"><span 
class="cmr-10x-x-109">Full-text index</span>
      </li>
      <li class="itemize"><span 
class="cmr-10x-x-109">Module</span>
      </li>
      <li class="itemize"><span 
class="cmr-10x-x-109">Trigger</span>
      </li>
      <li class="itemize"><span 
class="cmr-10x-x-109">Metadata document</span></li></ul>
<!--l. 1402--><p class="indent" >   <span 
class="cmr-10x-x-109">There are two types of Sedna database users:</span>
      <ul class="itemize1">
      <li class="itemize"><span 
class="cmr-10x-x-109">Database administrator (DBA user). Formally, DBA user is a user that has</span>
      <span 
class="cmr-10x-x-109">the &#8221;DBA&#8221; role.</span>
      </li>
      <li class="itemize"><span 
class="cmr-10x-x-109">Ordinary user (below we call &#8221;user&#8221;)</span></li></ul>
<!--l. 1410--><p class="indent" >   <span 
class="cmr-10x-x-109">DBA user:</span>
      <ul class="itemize1">
      <li class="itemize"><span 
class="cmr-10x-x-109">has all possible privileges on any object in the database;</span>
      </li>
      <li class="itemize"><span 
class="cmr-10x-x-109">can remove any object in the database;</span>
      </li>
      <li class="itemize"><span 
class="cmr-10x-x-109">can remove any user of the database;</span>
      </li>
      <li class="itemize"><span 
class="cmr-10x-x-109">can grant/revoke any privilege to/from any user of the database;</span>
      </li>
      <li class="itemize"><span 
class="cmr-10x-x-109">can grant &#8221;DBA&#8221; role to a user, thus making that user also a DBA user</span>
      <span 
class="cmr-10x-x-109">(not recommended, as the database with multiple DBA users is hard to</span>
      <span 
class="cmr-10x-x-109">administrate). Any DBA user can also revoke the &#8221;DBA&#8221; role from any DBA</span>
      <span 
class="cmr-10x-x-109">user.</span></li></ul>
<!--l. 1421--><p class="indent" >   <span 
class="cmr-10x-x-109">An ordinary user:</span>
      <ul class="itemize1">
      <li class="itemize"><span 
class="cmr-10x-x-109">can act according to the privileges that he has;</span>
                                                                          

                                                                          
      </li>
      <li class="itemize"><span 
class="cmr-10x-x-109">can grant and revoke any privileges on the database object that he owns to</span>
      <span 
class="cmr-10x-x-109">any user;</span>
      </li>
      <li class="itemize"><span 
class="cmr-10x-x-109">can remove database objects that he owns and drop users that he has created.</span></li></ul>
<!--l. 1430--><p class="indent" >   <span 
class="cmr-10x-x-109">Every user has its name and password.</span>
<!--l. 1432--><p class="indent" >   <span 
class="cmr-10x-x-109">To create a user use </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">CREATE</span><span 
class="cmtt-10x-x-109">&#x00A0;USER</span></span></span> <span 
class="cmr-10x-x-109">statement:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-29">
CREATE&#x00A0;USER&#x00A0;"user-name"&#x00A0;WITH&#x00A0;PASSWORD&#x00A0;"user-password"
</div>
<!--l. 1436--><p class="nopar" >
<!--l. 1438--><p class="indent" >   <span 
class="cmr-10x-x-109">For example, the following statement:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-30">
CREATE&#x00A0;USER&#x00A0;"Alice"&#x00A0;WITH&#x00A0;PASSWORD&#x00A0;"mypass"
</div>
<!--l. 1442--><p class="nopar" >
<!--l. 1444--><p class="indent" >   <span 
class="cmr-10x-x-109">creates user </span><span 
class="cmti-10x-x-109">Alice </span><span 
class="cmr-10x-x-109">identified with </span><span 
class="cmti-10x-x-109">mypass </span><span 
class="cmr-10x-x-109">password.</span>
<!--l. 1446--><p class="indent" >   <span 
class="cmr-10x-x-109">To remove an existing user, use </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">DROP</span><span 
class="cmtt-10x-x-109">&#x00A0;USER</span></span></span> <span 
class="cmr-10x-x-109">statement:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-31">
DROP&#x00A0;USER&#x00A0;"user-name"
</div>
<!--l. 1450--><p class="nopar" >
<!--l. 1452--><p class="indent" >   <span 
class="cmr-10x-x-109">For example, the following statement removes user </span><span 
class="cmti-10x-x-109">Alice</span><span 
class="cmr-10x-x-109">:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-32">
DROP&#x00A0;USER&#x00A0;"Alice"
</div>
<!--l. 1456--><p class="nopar" >
<!--l. 1458--><p class="indent" >   <span 
class="cmr-10x-x-109">A user can drop only a user he has created. DBA user can drop any user of the</span>
<span 
class="cmr-10x-x-109">database.</span>
<!--l. 1461--><p class="indent" >   <span 
class="cmr-10x-x-109">To change user password use </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">ALTER</span><span 
class="cmtt-10x-x-109">&#x00A0;USER</span></span></span> <span 
class="cmr-10x-x-109">statement. A user can change a password</span>
<span 
class="cmr-10x-x-109">for himself or for a user he has created. DBA user can change a password for any user of</span>
<span 
class="cmr-10x-x-109">the database.</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-33">
ALTER&#x00A0;USER&#x00A0;"user-name"&#x00A0;WITH&#x00A0;PASSWORD&#x00A0;"new-password"
</div>
<!--l. 1467--><p class="nopar" >
<!--l. 1469--><p class="indent" >   <span 
class="cmr-10x-x-109">This statement changes the password of the user </span><span 
class="cmti-10x-x-109">user-name </span><span 
class="cmr-10x-x-109">to the </span><span 
class="cmti-10x-x-109">new-password</span><span 
class="cmr-10x-x-109">.</span>
<!--l. 1476--><p class="noindent" >
   <div class="subsectionTOCS">
   </div>
   <h4 class="subsectionHead"><span class="titlemark"><span 
class="cmr-10x-x-109">3.2   </span></span> <a 
 id="x1-320003.2"></a><span 
class="cmr-10x-x-109">Privileges and Roles</span></h4>
<!--l. 1479--><p class="noindent" ><span 
class="cmr-10x-x-109">When a database object is created, it is assigned an owner. The owner is the user that</span>
<span 
class="cmr-10x-x-109">executed the creation statement. By default, only an owner and DBA user can do</span>
<span 
class="cmr-10x-x-109">anything with the database object. In order to allow other users to use it, </span><span 
class="cmti-10x-x-109">privileges</span>
<span 
class="cmr-10x-x-109">must be granted.</span>
<!--l. 1484--><p class="indent" >   <span 
class="cmr-10x-x-109">There are several possible privileges:</span>
      <ul class="itemize1">
      <li class="itemize"><span 
class="cmr-10x-x-109">CREATE-USER - create new user</span>
      </li>
      <li class="itemize"><span 
class="cmr-10x-x-109">CREATE-DOCUMENT - create new document</span>
      </li>
      <li class="itemize"><span 
class="cmr-10x-x-109">CREATE-COLLECTION - create new collection</span>
      </li>
      <li class="itemize"><span 
class="cmr-10x-x-109">CREATE-INDEX - create new value-based index</span>
      </li>
      <li class="itemize"><span 
class="cmr-10x-x-109">CREATE-FT-INDEX - create new full-text index</span>
      </li>
      <li class="itemize"><span 
class="cmr-10x-x-109">CREATE-TRIGGER - create new trigger</span>
      </li>
      <li class="itemize"><span 
class="cmr-10x-x-109">LOAD-MODULE - load new module into database</span>
      </li>
      <li class="itemize"><span 
class="cmr-10x-x-109">LOAD - load new document either into database or collection</span>
      </li>
      <li class="itemize"><span 
class="cmr-10x-x-109">DROP - drop index, documen, collection, user, role</span>
      </li>
      <li class="itemize"><span 
class="cmr-10x-x-109">QUERY - query document, collection or database</span>
      </li>
      <li class="itemize"><span 
class="cmr-10x-x-109">INSERT - perform update insert statements</span>
                                                                          

                                                                          
      </li>
      <li class="itemize"><span 
class="cmr-10x-x-109">DELETE - perform update delete statements</span>
      </li>
      <li class="itemize"><span 
class="cmr-10x-x-109">RENAME - perform update rename statements</span>
      </li>
      <li class="itemize"><span 
class="cmr-10x-x-109">RETRIEVE-METADATA - retrieve metadata</span></li></ul>
<!--l. 1503--><p class="indent" >   <span 
class="cmr-10x-x-109">Privileges are assigned to database objects or to the whole database. The table</span>
<span 
class="cmr-10x-x-109">below for every privilege lists all kinds of database objects or the whole database it can</span>
<span 
class="cmr-10x-x-109">be assigned to.</span>
   <div class="tabular"> <table id="TBL-3" class="tabular" 
cellspacing="0" cellpadding="0" rules="groups" 
><colgroup id="TBL-3-1g"><col 
id="TBL-3-1"></colgroup><colgroup id="TBL-3-2g"><col 
id="TBL-3-2"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-1-1"  
class="td11"><span 
class="cmr-10x-x-109">Privilege                      </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-1-2"  
class="td11"><span 
class="cmr-10x-x-109">can be assigned to                             </span></td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-2-1"  
class="td11"><span 
class="cmr-10x-x-109">CREATE-USER             </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-2-2"  
class="td11"><span 
class="cmr-10x-x-109">DATABASE                                     </span></td></tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-3-1"  
class="td11"><span 
class="cmr-10x-x-109">CREATE-DOCUMENT </span></td> <td  style="white-space:nowrap; text-align:left;" id="TBL-3-3-2"  
class="td11"><span 
class="cmr-10x-x-109">DATABASE, COLLECTION</span></td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-4-1"  
class="td11"><span 
class="cmr-10x-x-109">CREATE-COLLECTION</span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-4-2"  
class="td11"><span 
class="cmr-10x-x-109">DATABASE                                     </span></td></tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-5-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-5-1"  
class="td11"><span 
class="cmr-10x-x-109">CREATE-INDEX </span></td> <td  style="white-space:nowrap; text-align:left;" id="TBL-3-5-2"  
class="td11"><span 
class="cmr-10x-x-109">DOCUMENT,COLLECTION</span></td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-6-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-6-1"  
class="td11"><span 
class="cmr-10x-x-109">CREATE-FT-INDEX      </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-6-2"  
class="td11"><span 
class="cmr-10x-x-109">DOCUMENT,COLLECTION              </span></td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-7-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-7-1"  
class="td11"><span 
class="cmr-10x-x-109">CREATE-TRIGGER      </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-7-2"  
class="td11"><span 
class="cmr-10x-x-109">DOCUMENT,COLLECTION              </span></td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-8-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-8-1"  
class="td11"><span 
class="cmr-10x-x-109">LOAD-MODULE           </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-8-2"  
class="td11"><span 
class="cmr-10x-x-109">DATABASE                                     </span></td></tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-9-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-9-1"  
class="td11"><span 
class="cmr-10x-x-109">RETRIEVE-METADATA</span></td> <td  style="white-space:nowrap; text-align:left;" id="TBL-3-9-2"  
class="td11"><span 
class="cmr-10x-x-109">DATABASE</span></td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-10-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-10-1"  
class="td11"><span 
class="cmr-10x-x-109">LOAD                          </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-10-2"  
class="td11"><span 
class="cmr-10x-x-109">DATABASE, COLLECTION              </span></td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-11-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-11-1"  
class="td11"><span 
class="cmr-10x-x-109">DROP                          </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-11-2"  
class="td11"><span 
class="cmr-10x-x-109">DOCUMENT, COLLECTION, INDEX,</span></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-12-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-12-1"  
class="td11">                      </td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-12-2"  
class="td11"><span 
class="cmr-10x-x-109">MODULE, TRIGGER, FT-INDEX      </span></td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-13-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-13-1"  
class="td11"><span 
class="cmr-10x-x-109">QUERY                        </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-13-2"  
class="td11"><span 
class="cmr-10x-x-109">DOCUMENT, COLLECTION             </span></td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-14-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-14-1"  
class="td11"><span 
class="cmr-10x-x-109">INSERT                       </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-14-2"  
class="td11"><span 
class="cmr-10x-x-109">DOCUMENT, COLLECTION             </span></td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-15-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-15-1"  
class="td11"><span 
class="cmr-10x-x-109">DELETE                      </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-15-2"  
class="td11"><span 
class="cmr-10x-x-109">DOCUMENT, COLLECTION             </span></td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-16-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-16-1"  
class="td11"><span 
class="cmr-10x-x-109">RENAME                     </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-16-2"  
class="td11"><span 
class="cmr-10x-x-109">DOCUMENT, COLLECTION             </span></td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-17-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-17-1"  
class="td11">                      </td> </tr></table></div>
<!--l. 1548--><p class="indent" >   <span 
class="cmr-10x-x-109">Plus there is the key word </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">ALL</span></span></span> <span 
class="cmr-10x-x-109">that denotes all possible privilege that can be granted</span>
<span 
class="cmr-10x-x-109">to the specified object.</span>
<!--l. 1551--><p class="indent" >   <span 
class="cmr-10x-x-109">Note, </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">DROP</span></span></span> <span 
class="cmr-10x-x-109">privilege on collection is granted to a user means that the user can drop</span>
<span 
class="cmr-10x-x-109">any document in this collection (there is no such kind of database object as &#8217;document</span>
<span 
class="cmr-10x-x-109">in collection&#8217;). </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">LOAD</span></span></span> <span 
class="cmr-10x-x-109">privilege on the database allows user to load standalone</span>
<span 
class="cmr-10x-x-109">documents; </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">LOAD</span></span></span> <span 
class="cmr-10x-x-109">privilege on a collection allows user to load documents into the</span>
<span 
class="cmr-10x-x-109">collection.</span>
<!--l. 1557--><p class="indent" >   <span 
class="cmti-10x-x-109">Role </span><span 
class="cmr-10x-x-109">is a named group of related privileges. Roles provide easy and controlled way</span>
<span 
class="cmr-10x-x-109">to manage privileges. To create role </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">CREATE</span><span 
class="cmtt-10x-x-109">&#x00A0;ROLE</span></span></span> <span 
class="cmr-10x-x-109">statement is used:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-34">
CREATE&#x00A0;ROLE&#x00A0;"role-name"
</div>
<!--l. 1563--><p class="nopar" >
<!--l. 1565--><p class="indent" >   <span 
class="cmr-10x-x-109">This statement creates role with name </span><span 
class="cmti-10x-x-109">role-name</span><span 
class="cmr-10x-x-109">. When created role does not</span>
<span 
class="cmr-10x-x-109">contain any privileges. It is not recommended to created a role with a name of an</span>
<span 
class="cmr-10x-x-109">existing user (in this case privileges will be granted both to this user and to this</span>
<span 
class="cmr-10x-x-109">role).</span>
<!--l. 1570--><p class="indent" >   <span 
class="cmr-10x-x-109">It is not allowed to use &#8221;DBA&#8221; and &#8221;PUBLIC&#8221; for naming roles as they are reserved</span>
<span 
class="cmr-10x-x-109">by the system.</span>
<!--l. 1573--><p class="indent" >   <span 
class="cmr-10x-x-109">To destroy a role, use </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">DROP</span><span 
class="cmtt-10x-x-109">&#x00A0;ROLE</span></span></span><span 
class="cmr-10x-x-109">:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-35">
DROP&#x00A0;ROLE&#x00A0;"role-name"
</div>
<!--l. 1577--><p class="nopar" >
<!--l. 1579--><p class="indent" >   <span 
class="cmr-10x-x-109">Role is automatically revoked from any user it was granted to.</span>
<!--l. 1585--><p class="noindent" >
   <div class="subsectionTOCS">
   </div>
   <h4 class="subsectionHead"><span class="titlemark"><span 
class="cmr-10x-x-109">3.3   </span></span> <a 
 id="x1-330003.3"></a><span 
class="cmr-10x-x-109">Granting privileges</span></h4>
<!--l. 1587--><p class="noindent" ><span 
class="cmr-10x-x-109">Privileges are granted to users so that users can access and operate with database</span>
<span 
class="cmr-10x-x-109">objects or to process some tasks with a database.</span>
<!--l. 1590--><p class="indent" >   <span 
class="cmr-10x-x-109">A user can receive a privilege in two different ways: privileges can be granted to user</span>
<span 
class="cmr-10x-x-109">explicitly; or privileges can be granted to role, and the role can be granted to one or</span>
<span 
class="cmr-10x-x-109">more users. Roles allow easier and better management of privileges, thus privileges are</span>
<span 
class="cmr-10x-x-109">normally granted to roles and not to specific users. Roles can be granted both to users</span>
<span 
class="cmr-10x-x-109">and to roles.</span>
<!--l. 1596--><p class="indent" >   <span 
class="cmr-10x-x-109">A user who has granted a privilege or a role is </span><span 
class="cmti-10x-x-109">grantor </span><span 
class="cmr-10x-x-109">of this privilege</span>
<span 
class="cmr-10x-x-109">(role).</span>
<!--l. 1599--><p class="indent" >   <span 
class="cmr-10x-x-109">To grant a privilege on a database object you must be an owner of this object or</span>
<span 
class="cmr-10x-x-109">DBA user. To grant one or more privileges on a database object to one or more users or</span>
<span 
class="cmr-10x-x-109">roles use:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-36">
GRANT&#x00A0;"privilege"&#x00A0;|&#x00A0;ALL
&#x00A0;<br />ON&#x00A0;[DOCUMENT|COLLECTION]&#x00A0;"database-object-name"
&#x00A0;<br />TO&#x00A0;"user-name|role-name"&#x00A0;|&#x00A0;PUBLIC
</div>
<!--l. 1607--><p class="nopar" >
<!--l. 1609--><p class="indent" >   <span 
class="cmr-10x-x-109">For example, the following statement:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-37">
GRANT&#x00A0;"QUERY"&#x00A0;ON&#x00A0;DOCUMENT&#x00A0;"auction"&#x00A0;TO&#x00A0;"Alice"
</div>
<!--l. 1613--><p class="nopar" >
<!--l. 1615--><p class="indent" >   <span 
class="cmr-10x-x-109">grants </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">QUERY</span></span></span> <span 
class="cmr-10x-x-109">privilege on document </span><span 
class="cmti-10x-x-109">auction </span><span 
class="cmr-10x-x-109">to the user with name </span><span 
class="cmti-10x-x-109">Alice</span><span 
class="cmr-10x-x-109">. She will be</span>
<span 
class="cmr-10x-x-109">able to perform any XQuery queries on this document.</span>
<!--l. 1618--><p class="indent" >   <span 
class="cmr-10x-x-109">The key word </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">PUBLIC</span></span></span> <span 
class="cmr-10x-x-109">is used when the privileges are to be granted to all users,</span>
<span 
class="cmr-10x-x-109">including those that may be created later. </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">PUBLIC</span></span></span> <span 
class="cmr-10x-x-109">may be thought of as an implicitly</span>
<span 
class="cmr-10x-x-109">defined role that every user has.</span>
<!--l. 1622--><p class="indent" >   <span 
class="cmr-10x-x-109">If the kind of the database object (</span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">DOCUMENT</span></span></span> <span 
class="cmr-10x-x-109">or </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">COLLECTION</span></span></span><span 
class="cmr-10x-x-109">) is not specified,</span>
<span 
class="cmr-10x-x-109">database object is considered to be a document.</span>
<!--l. 1625--><p class="indent" >   <span 
class="cmr-10x-x-109">To grant a privilege on a database you must be DBA user. To grant one or more</span>
<span 
class="cmr-10x-x-109">privileges on a database to one or more users or roles use:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-38">
GRANT&#x00A0;"privilege"&#x00A0;|&#x00A0;ALL
&#x00A0;<br />ON&#x00A0;DATABASE
&#x00A0;<br />TO&#x00A0;"user-name|role-name"&#x00A0;|&#x00A0;PUBLIC
</div>
<!--l. 1632--><p class="nopar" >
<!--l. 1634--><p class="indent" >   <span 
class="cmr-10x-x-109">For example, the following statement:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-39">
GRANT&#x00A0;"LOAD"&#x00A0;ON&#x00A0;DATABASE&#x00A0;TO&#x00A0;"Alice"
</div>
<!--l. 1638--><p class="nopar" >
<!--l. 1640--><p class="indent" >   <span 
class="cmr-10x-x-109">allows </span><span 
class="cmti-10x-x-109">Alice </span><span 
class="cmr-10x-x-109">to perform bulk load into the database.</span>
<!--l. 1642--><p class="indent" >   <span 
class="cmr-10x-x-109">To grant a role you must be allowed to grant every privilege of the role: to be owner</span>
<span 
class="cmr-10x-x-109">of every database object of privileges of the role, or to be DBA user. To grant a role to</span>
<span 
class="cmr-10x-x-109">another role means grantee will add grantor&#8217;s privileges to its own set of privileges. To</span>
<span 
class="cmr-10x-x-109">grant a role to one or more users or roles use:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-40">
GRANT&#x00A0;"role-name"
&#x00A0;<br />TO&#x00A0;"user-name|role_name"&#x00A0;|&#x00A0;PUBLIC
</div>
<!--l. 1650--><p class="nopar" >
<!--l. 1656--><p class="noindent" >
   <div class="subsectionTOCS">
   </div>
   <h4 class="subsectionHead"><span class="titlemark"><span 
class="cmr-10x-x-109">3.4   </span></span> <a 
 id="x1-340003.4"></a><span 
class="cmr-10x-x-109">Revoking privileges</span></h4>
<!--l. 1658--><p class="noindent" ><span 
class="cmr-10x-x-109">Privileges or roles can be revoked from the user. Roles cannot be revoked from roles,</span>
<span 
class="cmr-10x-x-109">however. Only grantor of the privilege (role) or DBA user can revoke privilege</span>
<span 
class="cmr-10x-x-109">(role).</span>
<!--l. 1662--><p class="indent" >   <span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">REVOKE</span></span></span> <span 
class="cmr-10x-x-109">statements are similar to </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">GRANT</span></span></span> <span 
class="cmr-10x-x-109">statements.</span>
<!--l. 1664--><p class="indent" >   <span 
class="cmr-10x-x-109">To revoke one or more privileges on a database object from one or more users or</span>
<span 
class="cmr-10x-x-109">roles use:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-41">
REVOKE&#x00A0;"privilege"&#x00A0;|&#x00A0;ALL
&#x00A0;<br />ON&#x00A0;[DOCUMENT|COLLECTION]&#x00A0;"database-object-name"
&#x00A0;<br />FROM&#x00A0;"user-name|role-name"&#x00A0;|&#x00A0;PUBLIC
</div>
<!--l. 1671--><p class="nopar" >
<!--l. 1673--><p class="indent" >   <span 
class="cmr-10x-x-109">If the kind of the database object (</span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">DOCUMENT</span></span></span> <span 
class="cmr-10x-x-109">or </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">COLLECTION</span></span></span><span 
class="cmr-10x-x-109">) is not specified,</span>
<span 
class="cmr-10x-x-109">database object is considered to be a document.</span>
<!--l. 1676--><p class="indent" >   <span 
class="cmr-10x-x-109">To revoke one or more privileges on a database from one or more users or roles</span>
<span 
class="cmr-10x-x-109">use:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-42">
REVOKE&#x00A0;"privilege"&#x00A0;|&#x00A0;ALL
&#x00A0;<br />ON&#x00A0;DATABASE
&#x00A0;<br />FROM&#x00A0;"user-name|role-name"&#x00A0;|&#x00A0;PUBLIC
</div>
<!--l. 1683--><p class="nopar" >
<!--l. 1685--><p class="indent" >   <span 
class="cmr-10x-x-109">To revoke a role from one or more users use:</span>
                                                                          

                                                                          
   <div class="verbatim" id="verbatim-43">
REVOKE&#x00A0;"role-name"
&#x00A0;<br />FROM&#x00A0;"user-name"&#x00A0;|&#x00A0;PUBLIC
</div>
<!--l. 1690--><p class="nopar" >
<!--l. 1692--><p class="indent" >   <span 
class="cmr-10x-x-109">As mentioned above DBA user is a user that has a &#8221;DBA&#8221; role. Thus, &#8221;DBA&#8221; is a</span>
<span 
class="cmr-10x-x-109">reserved name for a role: a role with name &#8221;DBA&#8221; can not be created, privileges or roles</span>
<span 
class="cmr-10x-x-109">cannot be granted to &#8221;DBA&#8221; role.</span>
<!--l. 1696--><p class="indent" >   <span 
class="cmr-10x-x-109">A DBA user can grant &#8221;DBA&#8221; role to another user, thus making that user also a</span>
<span 
class="cmr-10x-x-109">DBA user. This is not recommended, as multiple powerful users of a database can lead</span>
<span 
class="cmr-10x-x-109">to hard database administration, and can cause insecure usage of the database and</span>
<span 
class="cmr-10x-x-109">database objects.</span>
<!--l. 1705--><p class="noindent" >
   <div class="subsectionTOCS">
   </div>
   <h4 class="subsectionHead"><span class="titlemark"><span 
class="cmr-10x-x-109">3.5   </span></span> <a 
 id="x1-350003.5"></a><span 
class="cmr-10x-x-109">Client Authentication</span></h4>
<!--l. 1707--><p class="noindent" ><span 
class="cmr-10x-x-109">When a client application connects to the database server, it specifies which Sedna</span>
<span 
class="cmr-10x-x-109">database user name it wants to connect as. User name determines access privileges to</span>
<span 
class="cmr-10x-x-109">database objects, therefore, client authentication is used to restrict which database users</span>
<span 
class="cmr-10x-x-109">can connect.</span>
<!--l. 1712--><p class="indent" >   <span 
class="cmti-10x-x-109">Authentication </span><span 
class="cmr-10x-x-109">is the process by which the database server establishes the identity of</span>
<span 
class="cmr-10x-x-109">the client and determines whether the client application (or the user who runs</span>
<span 
class="cmr-10x-x-109">the client application) is permitted to connect with the user name that was</span>
<span 
class="cmr-10x-x-109">requested.</span>
<!--l. 1717--><p class="indent" >   <span 
class="cmr-10x-x-109">When created with </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-db-security</span><span 
class="cmtt-10x-x-109">&#x00A0;authorization</span></span></span> <span 
class="cmr-10x-x-109">or </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-db-security</span><span 
class="cmtt-10x-x-109">&#x00A0;authentication</span></span></span>
<span 
class="cmr-10x-x-109">option, database will check the user password on session open.</span>
<!--l. 1721--><p class="indent" >   <span 
class="cmr-10x-x-109">Currently, Sedna uses password authentication: client application that connects to</span>
<span 
class="cmr-10x-x-109">the database must specify user name and user password (in </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">se_term</span></span></span> <span 
class="cmr-10x-x-109">utility use </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-pswd</span></span></span>
<span 
class="cmr-10x-x-109">and </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">-name</span></span></span> <span 
class="cmr-10x-x-109">options; for client application that works through Sedna API see &#8221;Sedna</span>
<span 
class="cmr-10x-x-109">Programmer&#8217;s Guide&#8221;). Authentication process consists in checking the password</span>
<span 
class="cmr-10x-x-109">correctness.</span>
<!--l. 1727--><p class="indent" >   <span 
class="cmr-10x-x-109">A newly created database always contains one predefined DBA user with name</span>
<span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">"SYSTEM"</span></span></span> <span 
class="cmr-10x-x-109">and password </span><span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">"MANAGER"</span></span></span><span 
class="cmr-10x-x-109">. To start your work with the database, you first</span>
<span 
class="cmr-10x-x-109">have to connect as this initial user.</span>
<!--l. 1735--><p class="noindent" >
   <div class="sectionTOCS">
                                                                          

                                                                          
   </div>
   <h3 class="sectionHead"><span class="titlemark"><span 
class="cmr-10x-x-109">4   </span></span> <a 
 id="x1-360004"></a><span 
class="cmr-10x-x-109">Localization</span></h3>
<!--l. 1737--><p class="noindent" ><span 
class="cmr-10x-x-109">In the current version of Sedna all character data are stored internally in UTF-8. All</span>
<span 
class="cmr-10x-x-109">input queries and XML documents must be encoded in UTF-8. All output is also</span>
<span 
class="cmr-10x-x-109">encoded in UTF-8.</span>
   </td></tr></table><p style="margin-bottom:15px;"/><table width="843" align="center" cellpadding="0" cellspacing="0" class="ver9"><tr ><td><div id="footer"><div id="copyright">&copy; 2003-2012 Institute for System Programming RAS</div><ul><li><a href="/">Home</a></li><li><a href="/documentation.html">Documentation</a></li><li class="last"><a href="/download.html">Download</a></li></ul></div></td></tr></table><p style="margin-bottom:15px;"/> 
</body></html> 

                                                                          


